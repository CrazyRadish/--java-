<html>
<head>
  <title>jdbc基础入门</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2913"/>
<h1>jdbc基础入门</h1>

<div>
<span><div><h1 align="justify"><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b> jdbc</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>入门</b></span></font></h1></div><div><br/></div><div align="justify" style="font-weight: bold; font-size: 20px;"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>      1.1 之前操作数据</b></span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                       1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）通过mysql的客户端工具，登录数据库服务器  （mysql -u root -p 密码）</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                       2</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）编写sql语句</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                       3</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）发送sql语句到数据库服务器执行</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                          </span></font></div><div><br/></div><div align="justify" style="font-weight: bold; font-size: 20px;"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>      1.2 什么是jdbc？</b></span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">              </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">使用java代码（程序）发送sql语句的技术，就是jdbc技术！！！！</span></font></div><div><br/></div><div align="justify" style="font-weight: bold; font-size: 20px;"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>      1.3 使用jdbc发送sql前提</b></span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                     </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">登录数据库服务器（连接数据库服务器）</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">数据库的IP地址</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">端口</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">数据库用户名</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">密码</span></font></div><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:584px;" width="583"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="582"><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>/**<br/></div><div><br/></div><div> * jdbc连接数据库</div><div> * @author APPle</div><div> *</div><div> */</div><div>public class Demo1 {</div><div>    //连接数据库的URL</div><div>    private String url = &quot;jdbc:mysql://localhost:3306/day17&quot;;</div><div>                        // jdbc协议:数据库子协议:主机:端口/连接的数据库   //</div><div><br/></div><div>    private String user = &quot;root&quot;;//用户名</div><div>    private String password = &quot;root&quot;;//密码</div><div><br/></div><div>    /**</div><div>     * 第一种方法</div><div>     * @throws Exception</div><div>     */</div><div>    @Test</div><div>    public void test1() throws Exception{</div><div>       //1.创建驱动程序类对象</div><div>       Driver driver = new com.mysql.jdbc.Driver(); //新版本</div><div>       //Driver driver = new org.gjt.mm.mysql.Driver(); //旧版本</div><div><br/></div><div>       //设置用户名和密码</div><div>       Properties props = new Properties();</div><div>       props.setProperty(&quot;user&quot;, user);</div><div>       props.setProperty(&quot;password&quot;, password);</div><div><br/></div><div>       //2.连接数据库，返回连接对象</div><div>       Connection conn = driver.connect(url, props);</div><div><br/></div><div>       System.out.println(conn);</div><div>    }</div><div><br/></div><div>    /**</div><div>     * 使用驱动管理器类连接数据库(注册了两次，没必要)</div><div>     * @throws Exception</div><div>     */</div><div>    @Test</div><div>    public void test2() throws Exception{</div><div>       Driver driver = new com.mysql.jdbc.Driver();</div><div>       //Driver driver2 = new com.oracle.jdbc.Driver();</div><div>       //1.注册驱动程序(可以注册多个驱动程序)</div><div>       DriverManager.registerDriver(driver);</div><div>       //DriverManager.registerDriver(driver2);</div><div><br/></div><div>       //2.连接到具体的数据库</div><div>       Connection conn = DriverManager.getConnection(url, user, password);</div><div>       System.out.println(conn);</div><div><br/></div><div>    }</div><div><br/></div><div>    /**</div><div>     * （推荐使用这种方式连接数据库）</div><div>     * 推荐使用加载驱动程序类  来 注册驱动程序</div><div>     * @throws Exception</div><div>     */</div><div>    @Test</div><div>    public void test3() throws Exception{</div><div>       //Driver driver = new com.mysql.jdbc.Driver();</div><div><br/></div><div>       //通过得到字节码对象的方式加载静态代码块，从而注册驱动程序</div><div>       Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</div><div><br/></div><div>       //Driver driver2 = new com.oracle.jdbc.Driver();</div><div>       //1.注册驱动程序(可以注册多个驱动程序)</div><div>       //DriverManager.registerDriver(driver);</div><div>       //DriverManager.registerDriver(driver2);</div><div><br/></div><div>       //2.连接到具体的数据库</div><div>       Connection conn = DriverManager.getConnection(url, user, password);</div><div>       System.out.println(conn);</div><div><br/></div><div>    }</div><div><br/></div><div>}</div></div><div><br/></div></td></tr></table><div><h2 align="justify"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>      2.4 JDBC接口核心的API</b></span></font></h2><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            java.sql.*  </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">和  javax.sql.*</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                     |- Driver</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">接口： 表示java驱动程序接口。所有的具体的数据库厂商要来实现此接口。</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            |- connect(url, properties): </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">连接数据库的方法。</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                          url:</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">连接数据库的URL</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                                 URL</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法： jdbc协议:数据库子协议://主机:端口/数据库</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                                 user</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">： 数据库的用户名</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                                 password</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">： 数据库用户密码</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                     |- DriverManager</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">类： 驱动管理器类，用于管理所有注册的驱动程序</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            |-registerDriver(driver)  :</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">注册驱动类对象</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            |-Connection getConnection(url,user,password); </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">获取连接对象</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                     |- Connection</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">接口： 表示java程序和数据库的连接对象。</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   |- Statement createStatement()</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">： 创建Statement对象</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   |- PreparedStatement prepareStatement(String sql) </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">创建PreparedStatement对象</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   |- CallableStatement prepareCall(String sql)</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">创建</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">CallableStatement</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">对象</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                     |- Statement</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">接口： 用于执行静态的sql语句</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   |- int executeUpdate(String sql) </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">： 执行静态的更新sql语句（DDL，DML）</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   |- ResultSet executeQuery(String sql) </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">：执行的静态的查询sql语句（DQL）</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            |-PreparedStatement</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">接口：用于执行预编译sql语句</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                          |- int executeUpdate()</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">： 执行预编译的更新sql语句（DDL，DML）</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                          |-ResultSet executeQuery() </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">： 执行预编译的查询sql语句（DQL）</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   |-CallableStatement</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">接口：用于执行存储过程的sql语句（call xxx）</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                                 |-ResultSet executeQuery() </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">： 调用存储过程的方法</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                     |- ResultSet</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">接口：用于封装查询出来的数据</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   |- boolean next()</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">： 将光标移动到下一行</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   |-getXX() :</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">获取列的值</span></font></div><h1 align="justify"><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b>3</b></span></font> <font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>使用Statement执行sql语句</b></span></font></h1><h2 align="justify"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>      3.1 执行DDL语句</b></span></font></h2><div style="margin-left: -2mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:584px;" width="583"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="582"><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">   </span></font> <font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">执行DDL语句(创建表)</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     */</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#646464" face="Courier New" size="2"><span style="font-size:10pt">@Test</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">test1(){</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       Statement stmt =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       Connection conn =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//1.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">驱动注册程序</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           Class.</span><span style="font-size:10pt"><i>forName</i></span><span style="font-size:10pt">(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;com.mysql.jdbc.Driver&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//2.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">获取连接对象</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           conn = DriverManager.</span><span style="font-size:10pt"><i>getConnection</i></span><span style="font-size:10pt">(</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">url</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">user</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">password</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//3.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">创建Statement</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt = conn.createStatement();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//4.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">准备</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           String sql =</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;CREATE TABLE student(id INT PRIMARY KEY AUTO_INCREMENT,NAME VARCHAR(20),gender VARCHAR(2))&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//5.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">发送</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">语句，执行</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">语句,得到返回结果</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">count = stmt.executeUpdate(sql);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//6.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">输出</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           System.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.println(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">影响了&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+count+</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">行！&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(Exception e) {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throw</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>finally</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//7.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">关闭连接(顺序:后打开的先关闭)</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(stmt!=</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                  stmt.close();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(SQLException e) {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                  e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throw</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(conn!=</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">)</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                  conn.close();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(SQLException e) {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                  e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throw</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font></div><div align="justify" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div></td></tr></table></div><h2 align="justify"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>     3.2 执行DML语句</b></span></font></h2><div style="margin-left: -2mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:584px;" width="583"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="582"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt"> *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">使用Statement执行DML语句</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt"> *</span></font> <font color="#7F9FBF" face="Courier New" size="2"><span style="font-size:10pt"><b>@author</b></span></font> <font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">APPle</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt"> *</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt"> */</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Demo2 {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><u>url</u></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;jdbc:mysql://localhost:3306/day17&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt; background:#ffff00"><u>user</u></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;root&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><u>password</u></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;root&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">增加</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     */</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#646464" face="Courier New" size="2"><span style="font-size:10pt">@Test</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">testInsert(){</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       Connection conn =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       Statement stmt =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">通过工具类获取连接对象</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           conn = JdbcUtil.</span><span style="font-size:10pt"><i>getConnection</i></span><span style="font-size:10pt">();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//3.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">创建Statement对象</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt = conn.createStatement();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//4.</span><span style="font-size:10pt"><u>sql</u></span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">语句</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           String sql =</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;INSERT INTO student(NAME,gender) VALUES('</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">李四','女')&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//5.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">执行</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">count = stmt.executeUpdate(sql);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           System.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.println(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">影响了&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+count+</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">行&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(Exception e) {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throw</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>finally</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">关闭资源</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">/*if(</span><span style="font-size:10pt"><u>stmt</u></span><span style="font-size:10pt">!=null)</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              try {</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">                  stmt.close();</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              } catch (SQLException e) {</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">                  e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">                  throw new RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              }</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">           if(</span><span style="font-size:10pt"><u>conn</u></span><span style="font-size:10pt">!=null)</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              try {</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">                  conn.close();</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              } catch (SQLException e) {</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">                  e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">                  throw new RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              }*/</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           JdbcUtil.</span><span style="font-size:10pt"><i>close</i></span><span style="font-size:10pt">(conn, stmt);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">修改</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     */</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#646464" face="Courier New" size="2"><span style="font-size:10pt">@Test</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">testUpdate(){</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       Connection conn =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       Statement stmt =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">模拟用户输入</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       String name =</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">陈六&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id = 3;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">/*//1.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">注册驱动</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">           Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">           //2.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">获取连接对象</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">           </span><span style="font-size:10pt"><u>conn</u></span> <span style="font-size:10pt">= DriverManager.getConnection(</span><span style="font-size:10pt"><u>url</u></span><span style="font-size:10pt">, user, password);*/</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">通过工具类获取连接对象</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           conn = JdbcUtil.</span><span style="font-size:10pt"><i>getConnection</i></span><span style="font-size:10pt">();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//3.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">创建Statement对象</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt = conn.createStatement();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//4.</span><span style="font-size:10pt"><u>sql</u></span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">语句</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           String sql =</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;UPDATE student SET NAME='&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+name+</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;' WHERE id=&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+id+</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           System.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.println(sql);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//5.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">执行</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">count = stmt.executeUpdate(sql);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           System.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.println(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">影响了&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+count+</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">行&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(Exception e) {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throw</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>finally</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">关闭资源</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">/*if(</span><span style="font-size:10pt"><u>stmt</u></span><span style="font-size:10pt">!=null)</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              try {</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">                  stmt.close();</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              } catch (SQLException e) {</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">                  e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">                  throw new RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              }</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">           if(</span><span style="font-size:10pt"><u>conn</u></span><span style="font-size:10pt">!=null)</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              try {</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">                  conn.close();</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              } catch (SQLException e) {</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">                  e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">                  throw new RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              }*/</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           JdbcUtil.</span><span style="font-size:10pt"><i>close</i></span><span style="font-size:10pt">(conn, stmt);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">删除</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     */</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#646464" face="Courier New" size="2"><span style="font-size:10pt">@Test</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">testDelete(){</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       Connection conn =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       Statement stmt =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">模拟用户输入</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id = 3;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">/*//1.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">注册驱动</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">           Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">           //2.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">获取连接对象</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">           </span><span style="font-size:10pt"><u>conn</u></span> <span style="font-size:10pt">= DriverManager.getConnection(</span><span style="font-size:10pt"><u>url</u></span><span style="font-size:10pt">, user, password);*/</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">通过工具类获取连接对象</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           conn = JdbcUtil.</span><span style="font-size:10pt"><i>getConnection</i></span><span style="font-size:10pt">();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//3.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">创建Statement对象</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt = conn.createStatement();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//4.</span><span style="font-size:10pt"><u>sql</u></span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">语句</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           String sql =</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;DELETE FROM student WHERE id=&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+id+</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           System.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.println(sql);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//5.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">执行</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">count = stmt.executeUpdate(sql);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           System.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.println(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">影响了&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+count+</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">行&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(Exception e) {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throw</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>finally</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">关闭资源</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">/*if(</span><span style="font-size:10pt"><u>stmt</u></span><span style="font-size:10pt">!=null)</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              try {</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">                  stmt.close();</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              } catch (SQLException e) {</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">                  e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">                  throw new RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              }</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">           if(</span><span style="font-size:10pt"><u>conn</u></span><span style="font-size:10pt">!=null)</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              try {</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">                  conn.close();</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              } catch (SQLException e) {</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">                  e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">                  throw new RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              }*/</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           JdbcUtil.</span><span style="font-size:10pt"><i>close</i></span><span style="font-size:10pt">(conn, stmt);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div><div align="justify" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></td></tr></table></div><h2 align="justify"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>     3.3 执行DQL语句</b></span></font></h2><div style="margin-left: -2mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:584px;" width="583"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="582"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt"> *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">使用Statement执行DQL语句（查询操作）</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt"> *</span></font> <font color="#7F9FBF" face="Courier New" size="2"><span style="font-size:10pt"><b>@author</b></span></font> <font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">APPle</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt"> */</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Demo3 {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#646464" face="Courier New" size="2"><span style="font-size:10pt">@Test</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">test1(){</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       Connection conn =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       Statement stmt =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">获取连接</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           conn = JdbcUtil.</span><span style="font-size:10pt"><i>getConnection</i></span><span style="font-size:10pt">();</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">创建Statement</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt = conn.createStatement();</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">准备</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           String sql =</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;SELECT * FROM student&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">执行</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           ResultSet rs = stmt.executeQuery(sql);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">移动光标</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">/*boolean flag = rs.next();</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">           flag = rs.next();</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">           flag = rs.next();</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">           if(flag){</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              //</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">取出列值</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              //</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">索引</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              </span><span style="font-size:10pt"><u>int</u></span> <span style="font-size:10pt">id = rs.getInt(1);</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              String name = rs.getString(2);</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              String gender = rs.getString(3);</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              System.out.println(id+&quot;,&quot;+name+&quot;,&quot;+gender);</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              </span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              //</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">列名称</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              </span><span style="font-size:10pt"><u>int</u></span> <span style="font-size:10pt">id = rs.getInt(&quot;id&quot;);</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              String name = rs.getString(&quot;name&quot;);</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              String gender = rs.getString(&quot;gender&quot;);</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">              System.out.println(id+&quot;,&quot;+name+&quot;,&quot;+gender);</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">           }*/</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">遍历结果</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>while</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(rs.next()){</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id = rs.getInt(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;id&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              String name = rs.getString(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;name&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              String gender = rs.getString(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;gender&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              System.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.println(id+</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;,&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+name+</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;,&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+gender);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(Exception e){</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throw</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>finally</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           JdbcUtil.</span><span style="font-size:10pt"><i>close</i></span><span style="font-size:10pt">(conn, stmt);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div><div align="justify" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></td></tr></table></div><h1 align="justify"><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b>4</b></span></font> <font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>使用PreparedStatement执行sql语句</b></span></font></h1><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">       </span></font></div><div style="margin-left: -2mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:584px;" width="583"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="582"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Demo1 {</span></font><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">增加</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     */</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#646464" face="Courier New" size="2"><span style="font-size:10pt">@Test</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">testInsert() {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       Connection conn =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       PreparedStatement stmt =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//1.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">获取连接</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           conn = JdbcUtil.</span><span style="font-size:10pt"><i>getConnection</i></span><span style="font-size:10pt">();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//2.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">准备预编译的</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           String sql =</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;INSERT INTO student(NAME,gender) VALUES(?,?)&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font> <font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//?</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">表示一个参数的占位符</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//3.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">执行预编译</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">语句(检查语法)</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt = conn.prepareStatement(sql);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//4.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">设置参数值</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">            *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">参数一： 参数位置  从1开始</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">            */</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt.setString(1,</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">李四&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt.setString(2,</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">男&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//5.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">发送参数，执行</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">count = stmt.executeUpdate();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           System.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.println(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">影响了&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+count+</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">行&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(Exception e) {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throw</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>finally</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           JdbcUtil.</span><span style="font-size:10pt"><i>close</i></span><span style="font-size:10pt">(conn, stmt);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">修改</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     */</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#646464" face="Courier New" size="2"><span style="font-size:10pt">@Test</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">testUpdate() {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       Connection conn =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       PreparedStatement stmt =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//1.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">获取连接</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           conn = JdbcUtil.</span><span style="font-size:10pt"><i>getConnection</i></span><span style="font-size:10pt">();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//2.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">准备预编译的</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           String sql =</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;UPDATE student SET NAME=? WHERE id=?&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font> <font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//?</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">表示一个参数的占位符</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//3.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">执行预编译</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">语句(检查语法)</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt = conn.prepareStatement(sql);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//4.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">设置参数值</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">            *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">参数一： 参数位置  从1开始</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">            */</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt.setString(1,</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">王五&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt.setInt(2, 9);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//5.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">发送参数，执行</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">count = stmt.executeUpdate();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           System.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.println(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">影响了&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+count+</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">行&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(Exception e) {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throw</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>finally</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           JdbcUtil.</span><span style="font-size:10pt"><i>close</i></span><span style="font-size:10pt">(conn, stmt);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">删除</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     */</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#646464" face="Courier New" size="2"><span style="font-size:10pt">@Test</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">testDelete() {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       Connection conn =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       PreparedStatement stmt =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//1.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">获取连接</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           conn = JdbcUtil.</span><span style="font-size:10pt"><i>getConnection</i></span><span style="font-size:10pt">();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//2.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">准备预编译的</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           String sql =</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;DELETE FROM student WHERE id=?&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font> <font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//?</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">表示一个参数的占位符</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//3.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">执行预编译</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">语句(检查语法)</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt = conn.prepareStatement(sql);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//4.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">设置参数值</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">            *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">参数一： 参数位置  从1开始</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">            */</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt.setInt(1, 9);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//5.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">发送参数，执行</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">count = stmt.executeUpdate();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           System.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.println(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">影响了&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+count+</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">行&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(Exception e) {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throw</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>finally</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           JdbcUtil.</span><span style="font-size:10pt"><i>close</i></span><span style="font-size:10pt">(conn, stmt);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">查询</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     */</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#646464" face="Courier New" size="2"><span style="font-size:10pt">@Test</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">testQuery() {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       Connection conn =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       PreparedStatement stmt =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       ResultSet rs =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//1.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">获取连接</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           conn = JdbcUtil.</span><span style="font-size:10pt"><i>getConnection</i></span><span style="font-size:10pt">();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//2.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">准备预编译的</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           String sql =</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;SELECT * FROM student&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//3.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">预编译</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt = conn.prepareStatement(sql);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//4.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">执行</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           rs = stmt.executeQuery();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//5.</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">遍历</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>rs</u></span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>while</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(rs.next()){</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id = rs.getInt(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;id&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              String name = rs.getString(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;name&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              String gender = rs.getString(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;gender&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              System.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.println(id+</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;,&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+name+</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;,&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+gender);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(Exception e) {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throw</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>finally</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">关闭资源</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           JdbcUtil.</span><span style="font-size:10pt"><i>close</i></span><span style="font-size:10pt">(conn,stmt,rs);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div><div align="justify" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></td></tr></table></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">       PreparedStatement vs Statment</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">              1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）语法不同：PreparedStatement可以使用预编译的sql，而Statment只能使用静态的sql</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">              2</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）效率不同： PreparedStatement可以使用sql缓存区，效率比Statment高</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">              3</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）安全性不同： PreparedStatement可以有效防止sql注入，而Statment不能防止sql注入。</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">       </span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt"><b>推荐使用PreparedStatement</b></span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   </span></font></div><h1 align="justify"><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b>5 CallableStatement</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>执行存储过程</b></span></font></h1><div style="margin-left: -2mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:584px;" width="583"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="582"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt"> *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">使用CablleStatement调用存储过程</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt"> *</span></font> <font color="#7F9FBF" face="Courier New" size="2"><span style="font-size:10pt"><b>@author</b></span></font> <font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">APPle</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt"> *</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt"> */</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Demo1 {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">调用带有输入参数的存储过程</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     * CALL pro_findById(4);</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     */</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#646464" face="Courier New" size="2"><span style="font-size:10pt">@Test</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">test1(){</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       Connection conn =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       CallableStatement stmt =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       ResultSet rs =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">获取连接</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           conn = JdbcUtil.</span><span style="font-size:10pt"><i>getConnection</i></span><span style="font-size:10pt">();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">准备</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           String sql =</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;CALL pro_findById(?)&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font> <font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">可以执行预编译的</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">预编译</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt = conn.prepareCall(sql);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">设置输入参数</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt.setInt(1, 6);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">发送参数</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           rs = stmt.executeQuery();</span></font> <font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">注意： 所有调用存储过程的</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">语句都是使用executeQuery方法执行！！！</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">遍历结果</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>while</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(rs.next()){</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>int</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">id = rs.getInt(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;id&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              String name = rs.getString(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;name&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              String gender = rs.getString(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;gender&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              System.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.println(id+</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;,&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+name+</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;,&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+gender);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(Exception e) {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throw</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>finally</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           JdbcUtil.</span><span style="font-size:10pt"><i>close</i></span><span style="font-size:10pt">(conn, stmt ,rs);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">执行带有输出参数的存储过程</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     * CALL pro_findById2(5,@NAME);</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">     */</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#646464" face="Courier New" size="2"><span style="font-size:10pt">@Test</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">test2(){</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       Connection conn =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       CallableStatement stmt =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       ResultSet rs =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>try</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">获取连接</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           conn = JdbcUtil.</span><span style="font-size:10pt"><i>getConnection</i></span><span style="font-size:10pt">();</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">准备</span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           String sql =</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;CALL pro_findById2(?,?)&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font> <font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">第一个？是输入参数，第二个？是输出参数</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">预编译</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt = conn.prepareCall(sql);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">设置输入参数</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt.setInt(1, 6);</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">设置输出参数(注册输出参数)</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">            *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">参数一： 参数位置</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">            *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">参数二： 存储过程中的输出参数的</span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt"><u>jdbc</u></span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">类型    VARCHAR(20)</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">            */</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt.registerOutParameter(2, java.sql.Types.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><i>VARCHAR</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">发送参数，执行</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           stmt.executeQuery();</span></font> <font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">结果不是返回到结果集中，而是返回到输出参数中</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">得到输出参数的值</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">/**</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">            *</span></font> <font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">索引值： 预编译</span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt"><u>sql</u></span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">中的输出参数的位置</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">            */</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           String result = stmt.getString(2);</span></font> <font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//getXX</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">方法专门用于获取存储过程中的输出参数</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           System.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.println(result);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>catch</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(Exception e) {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           e.printStackTrace();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throw</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">RuntimeException(e);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>finally</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           JdbcUtil.</span><span style="font-size:10pt"><i>close</i></span><span style="font-size:10pt">(conn, stmt ,rs);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div><div align="justify" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></td></tr></table></div></div></span>
</div></body></html> 