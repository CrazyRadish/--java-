<html>
<head>
  <title>注解及自动装配--源码</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1452"/>
<h1>注解及自动装配--源码</h1>

<div>
<span><div><h4 align="justify"><span style="color: #010101; font-family: 宋体; font-size: large;"><span style="font-size: 14pt;"><strong># 自动装配(了解)</strong></span></span></h4><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt; list-style-type: disc;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt; font-size: 10pt; font-weight: Bold; color: #984806;"><div style="min-height: 14pt;"><span style="color: #984806; font-family: 宋体; font-size: small;"><span style="font-size: 10pt; font-family: ����; color: #984806; font-weight: Bold; font-style: Normal; font-decoration: Normal;"><strong>根据名称自动装配：</strong></span></span><span style="color: #984806; font-family: Calibri; font-size: small;"><span style="font-size: 10pt;"><strong>autowire=&quot;byName&quot;</strong></span></span></div></li></ul><div style="min-height: 13pt;"><span style="color: #984806; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;"><strong>    -</strong></span></span><span style="color: #984806; font-family: Wingdings; font-size: small;"><span style="font-size: 10pt;"><strong>à</strong></span></span> <span style="color: #984806; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;"><strong>自动去IOC容器中找与属性名同名的引用的对象，并自动注入</strong></span></span></div><div style="margin-left: -2mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000; width: 569px;" width="568"><tr><td align="left" colspan="1" rowspan="1" style="border: solid #000000 1px; width: 100%;" valign="top" width="567"><span style="color: #3f5fbf; font-family: 'Courier New';"><span style="font-size: 13pt;">&lt;</span></span><span style="color: #3f5fbf; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">!-- ###############</span></span><span style="color: #3f5fbf; font-family: 宋体; font-size: xx-small;"><span style="font-size: 9pt;">自动装配############### --&gt;</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"> </span></span><div style="min-height: 9pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&lt;</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">bean</span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">id</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;userDao&quot;</em></span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">class</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;cn.itcast.d_auto.UserDao&quot;</em></span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;&lt;/</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">bean</span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"> </span></span></div><div style="min-height: 9pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&lt;</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">bean</span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">id</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;userService&quot;</em></span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">class</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;cn.itcast.d_auto.UserService&quot;</em></span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">autowire</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;byName&quot;</em></span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;&lt;/</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">bean</span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;</span></span></div><div style="min-height: 13pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span><span style="color: #3f5fbf; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&lt;!--</span></span> <span style="color: #3f5fbf; font-family: 宋体; font-size: xx-small;"><span style="font-size: 9pt;">根据</span></span><span style="color: #3f5fbf; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">“</span></span><span style="color: #3f5fbf; font-family: 宋体; font-size: xx-small;"><span style="font-size: 9pt;">名称</span></span><span style="color: #3f5fbf; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">”</span></span><span style="color: #3f5fbf; font-family: 宋体; font-size: xx-small;"><span style="font-size: 9pt;">自动装配： userAction注入的属性，会去</span></span><span style="color: #3f5fbf; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><span style="text-decoration: underline;">ioc</span></span></span><span style="color: #3f5fbf; font-family: 宋体; font-size: xx-small;"><span style="font-size: 9pt;">容器中自动查找与属性同名的对象 --&gt;</span></span></div><div style="min-height: 9pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&lt;</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">bean</span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">id</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;userAction&quot;</em></span></span></div><div style="min-height: 9pt;"><span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">class</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;cn.itcast.d_auto.UserAction&quot;</em></span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">autowire</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;byName&quot;</em></span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;&lt;/</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">bean</span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;</span></span></div></td></tr></table></div><div style="min-height: 14pt;"><span style="color: #984806; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;"><strong>也可以定义到全局， 这样就不用每个bean节点都去写autowire=</strong></span></span><span style="color: #984806; font-family: Calibri; font-size: small;"><span style="font-size: 10pt;"><strong>”</strong></span></span><span style="color: #984806; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;"><strong>byName</strong></span></span><span style="color: #984806; font-family: Calibri; font-size: small;"><span style="font-size: 10pt;"><strong>”</strong></span></span></div><div style="margin-left: -2mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000; width: 569px;" width="568"><tr><td align="left" colspan="1" rowspan="1" style="border: solid #000000 1px; width: 100%;" valign="top" width="567"><span style="color: #008080; font-family: 'Courier New';"><span style="font-size: 13pt;">&lt;?</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">xml</span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">version</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;1.0&quot;</em></span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">encoding</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;UTF-8&quot;</em></span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">?&gt;</span></span><div style="min-height: 9pt;"><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&lt;</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">beans</span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">xmlns</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;http://www.springframework.org/schema/beans&quot;</em></span></span></div><div style="min-height: 9pt;"><span style="color: #010101; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">   </span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">xmlns:xsi</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</em></span></span></div><div style="min-height: 9pt;"><span style="color: #010101; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">   </span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">xmlns:p</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;http://www.springframework.org/schema/p&quot;</em></span></span></div><div style="min-height: 9pt;"><span style="color: #010101; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">   </span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">xmlns:context</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;http://www.springframework.org/schema/context&quot;</em></span></span></div><div style="min-height: 9pt;"><span style="color: #010101; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">   </span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">xsi:schemaLocation</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;</em></span></span></div><div style="min-height: 9pt;"><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>        http://www.springframework.org/schema/beans</em></span></span></div><div style="min-height: 9pt;"><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>        http://www.springframework.org/schema/beans/spring-beans.xsd</em></span></span></div><div style="min-height: 9pt;"><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>        http://www.springframework.org/schema/context</em></span></span></div><div style="min-height: 9pt;"><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>        http://www.springframework.org/schema/context/spring-context.xsd&quot;</em></span></span> <span style="color: #ff0000; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><strong>default-autowire=</strong></span><span style="font-size: 9pt;"><strong><em>&quot;byName&quot;</em></strong></span><span style="font-size: 9pt;"><strong>&gt;</strong></span></span><span style="color: #ff0000; font-family: 宋体; font-size: xx-small;"><span style="font-size: 9pt;"><strong>   根据名称自动装配（全局）</strong></span></span></div><div style="min-height: 9pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span></div><div style="min-height: 13pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span><span style="color: #3f5fbf; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&lt;!-- ###############</span></span><span style="color: #3f5fbf; font-family: 宋体; font-size: xx-small;"><span style="font-size: 9pt;">自动装配############### --&gt;</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"> </span></span></div><div style="min-height: 9pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&lt;</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">bean</span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">id</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;userDao&quot;</em></span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">class</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;cn.itcast.d_auto.UserDao&quot;</em></span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;&lt;/</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">bean</span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"> </span></span></div><div style="min-height: 9pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&lt;</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">bean</span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">id</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;userService&quot;</em></span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">class</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;cn.itcast.d_auto.UserService&quot;</em></span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;&lt;/</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">bean</span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;</span></span></div><div style="min-height: 9pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&lt;</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">bean</span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">id</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;userAction&quot;</em></span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">class</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;cn.itcast.d_auto.UserAction&quot;</em></span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;&lt;/</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">bean</span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;</span></span></div><div style="min-height: 9pt;"><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&lt;/</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">beans</span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">  </span></span></div></td></tr></table></div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt; list-style-type: disc;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt; font-size: 10pt; font-weight: Bold; color: #984806;"><div style="min-height: 14pt;"><span style="color: #984806; font-family: 宋体; font-size: small;"><span style="font-size: 10pt; font-family: ����; color: #984806; font-weight: Bold; font-style: Normal; font-decoration: Normal;"><strong>根据类型自动装配：</strong></span></span><span style="color: #984806; font-family: Calibri; font-size: small;"><span style="font-size: 10pt;"><strong>autowire=&quot;</strong></span></span><span style="color: #984806; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;"><strong>byType</strong></span></span><span style="color: #984806; font-family: Calibri; font-size: small;"><span style="font-size: 10pt;"><strong>&quot;</strong></span></span></div></li></ul><div style="text-indent: 0mm; min-height: 13pt; margin: 0.00mm 0mm 0.00mm 7mm;"><span style="color: #984806; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;"><strong>必须确保改类型在IOC容器中只有一个对象；否则报错。</strong></span></span></div><div style="margin-left: 6mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000; width: 541px;" width="540"><tr><td align="left" colspan="1" rowspan="1" style="border: solid #000000 1px; width: 100%;" valign="top" width="539"><span style="color: #008080; font-family: 'Courier New';"><span style="font-size: 13pt;">&lt;?</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">xml</span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">version</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;1.0&quot;</em></span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">encoding</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;UTF-8&quot;</em></span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">?&gt;</span></span><div style="min-height: 9pt;"><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&lt;</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">beans</span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">xmlns</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;http://www.springframework.org/schema/beans&quot;</em></span></span></div><div style="min-height: 9pt;"><span style="color: #010101; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">   </span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">xmlns:xsi</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</em></span></span></div><div style="min-height: 9pt;"><span style="color: #010101; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">   </span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">xmlns:p</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;http://www.springframework.org/schema/p&quot;</em></span></span></div><div style="min-height: 9pt;"><span style="color: #010101; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">   </span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">xmlns:context</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;http://www.springframework.org/schema/context&quot;</em></span></span></div><div style="min-height: 9pt;"><span style="color: #010101; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">   </span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">xsi:schemaLocation</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;</em></span></span></div><div style="min-height: 9pt;"><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>        http://www.springframework.org/schema/beans</em></span></span></div><div style="min-height: 9pt;"><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>        http://www.springframework.org/schema/beans/spring-beans.xsd</em></span></span></div><div style="min-height: 9pt;"><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>        http://www.springframework.org/schema/context</em></span></span></div><div style="min-height: 9pt;"><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>        http://www.springframework.org/schema/context/spring-context.xsd&quot;</em></span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">default-autowire</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;byType&quot;</em></span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;</span></span></div><div style="min-height: 9pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span></div><div style="min-height: 13pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span><span style="color: #3f5fbf; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&lt;!-- ###############</span></span><span style="color: #3f5fbf; font-family: 宋体; font-size: xx-small;"><span style="font-size: 9pt;">自动装配############### --&gt;</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"> </span></span></div><div style="min-height: 9pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&lt;</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">bean</span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">id</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;userDao&quot;</em></span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">class</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;cn.itcast.d_auto.UserDao&quot;</em></span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;&lt;/</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">bean</span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"> </span></span></div><div style="min-height: 9pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&lt;</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">bean</span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">id</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;userService&quot;</em></span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">class</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;cn.itcast.d_auto.UserService&quot;</em></span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;&lt;/</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">bean</span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;</span></span></div><div style="min-height: 9pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span></div><div style="min-height: 13pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span><span style="color: #3f5fbf; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&lt;!--</span></span> <span style="color: #3f5fbf; font-family: 宋体; font-size: xx-small;"><span style="font-size: 9pt;">如果根据类型自动装配： 必须确保IOC容器中只有一个该类型的对象 --&gt;</span></span></div><div style="min-height: 9pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&lt;</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">bean</span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">id</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;userAction&quot;</em></span></span> <span style="color: #7f007f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">class</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">=</span></span><span style="color: #2a00ff; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"><em>&quot;cn.itcast.d_auto.UserAction&quot;</em></span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;&lt;/</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">bean</span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;</span></span></div><div style="min-height: 9pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span></div><div style="min-height: 9pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span></div><div style="min-height: 13pt;"><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    </span></span><span style="color: #3f5fbf; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&lt;!--  </span></span> <span style="color: #3f5fbf; font-family: 宋体; font-size: xx-small;"><span style="font-size: 9pt;">报错： 因为上面已经有一个该类型的对象，且使用了根据类型自动装配</span></span></div><div style="min-height: 9pt;"><span style="color: #3f5fbf; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">    &lt;bean id=&quot;userService_test&quot; class=&quot;cn.itcast.d_auto.UserService&quot;</span> <span style="font-size: 9pt;"><span style="text-decoration: underline;">autowire</span></span><span style="font-size: 9pt;">=&quot;byType&quot;&gt;&lt;/bean&gt;</span></span></div><div style="min-height: 9pt;"><span style="color: #3f5fbf; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">     --&gt;</span></span></div><div style="min-height: 9pt;"><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&lt;/</span></span><span style="color: #3f7f7f; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">beans</span></span><span style="color: #008080; font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;">&gt;</span></span><span style="font-family: 'Courier New'; font-size: xx-small;"><span style="font-size: 9pt;"> </span></span></div></td></tr></table></div><div style="min-height: 13pt;"><span style="color: #984806; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;"><strong>总结：</strong></span></span></div><div style="min-height: 14pt;"><span style="color: #984806; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;"><strong>    </strong></span></span><span style="color: #984806; font-family: Calibri; font-size: small;"><span style="font-size: 10pt;"><strong>S</strong></span></span><span style="color: #984806; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;"><strong>pring提供的自动装配主要是为了简化配置； 但是不利于后期的维护。</strong></span></span></div><div style="min-height: 13pt;"><span style="color: #984806; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;"><strong>    (一般不推荐使用)</strong></span></span></div><h4 align="justify"><span style="color: #010101; font-family: 宋体; font-size: large;"><span style="font-size: 14pt;"><strong><span style="color: #ff0000;"><span style="font-weight: normal;"># 注</span><span style="font-weight: normal;">解</span></span></strong></span></span></h4><div style="min-height: 13pt;"><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">注解方式可以简化spring的IOC容器的配置!</span></span></div><div style="min-height: 13pt;"><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">使用注解步骤：</span></span></div><div style="min-height: 13pt;"><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">    1）先引入context名称空间</span></span></div><div style="min-height: 12pt;"><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">        </span></span><span style="color: #010101; font-family: Calibri; font-size: small;"><span style="font-size: 10pt;">xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span></span></div><div style="min-height: 13pt;"><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">    2）开启注解扫描</span></span></div><div style="min-height: 12pt;"><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">        </span></span><span style="color: #010101; font-family: Calibri; font-size: small;"><span style="font-size: 10pt;">&lt;context:component-scan base-package=&quot;cn.itcast.e_anno2&quot;&gt;&lt;/context:component-scan&gt;</span></span></div><div style="min-height: 13pt;"><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">    3）使用注解</span></span></div><div style="min-height: 13pt;"><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">        通过注解的方式，把对象加入ioc容器。</span></span></div><div style="min-height: 13pt;"><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">       创建对象以及处理对象依赖关系，相关的注解：</span></span></div><div style="min-height: 14pt;"><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">        </span></span><span style="color: #010101; font-family: Calibri; font-size: small;"><span style="font-size: 10pt;">@Component</span></span><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">   指定把一个对象加入IOC容器</span></span></div><div style="text-indent: 0mm; min-height: 14pt; margin: 0.00mm 0mm 0.00mm 15mm;"><span style="color: #010101; font-family: Calibri; font-size: small;"><span style="font-size: 10pt;">@Repository</span></span><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">   作用同</span></span><span style="color: #010101; font-family: Calibri; font-size: small;"><span style="font-size: 10pt;">@Component</span></span><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">； 在持久层使用</span></span></div><div style="text-indent: 0mm; min-height: 14pt; margin: 0.00mm 0mm 0.00mm 15mm;"><span style="color: #010101; font-family: Calibri; font-size: small;"><span style="font-size: 10pt;">@Service</span></span><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">      作用同</span></span><span style="color: #010101; font-family: Calibri; font-size: small;"><span style="font-size: 10pt;">@Component</span></span><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">； 在业务逻辑层使用</span></span></div><div style="text-indent: 0mm; min-height: 14pt; margin: 0.00mm 0mm 0.00mm 15mm;"><span style="color: #010101; font-family: Calibri; font-size: small;"><span style="font-size: 10pt;">@Controller</span></span><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">    作用同</span></span><span style="color: #010101; font-family: Calibri; font-size: small;"><span style="font-size: 10pt;">@Component</span></span><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">； 在控制层使用</span></span></div><div style="text-indent: 0mm; min-height: 14pt; margin: 0.00mm 0mm 0.00mm 15mm;"><span style="color: #010101; font-family: Calibri; font-size: small;"><span style="font-size: 10pt;">@Resource</span></span><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">     属性注入</span></span></div><div style="min-height: 13pt;"><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">总结：</span></span></div><div style="min-height: 13pt;"><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">    1） 使用注解，可以简化配置，且可以把对象加入IOC容器,及处理依赖关系(DI)</span></span><span style="color: #010101; font-family: Calibri; font-size: small;"><span style="font-size: 10pt;"><br clear="none"/></span></span><span style="color: #010101; font-family: 宋体; font-size: small;"><span style="font-size: 10pt;">    2） 注解可以和XML配置一起使用。</span></span></div></div></span>
</div></body></html> 