<html>
<head>
  <title>Servlet的映射路径</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2547"/>
<h1>Servlet的映射路径</h1>

<div>
<span><div><br/></div><div align="justify" style="font-weight: bold; font-size: 26px;"><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b>Servlet</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>的映射路径</b></span></font></div><div align="justify" style="font-weight: bold; font-size: 26px;"><span style="font-size: 14pt;"><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);"><br/></span></span></span></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><span style="color: rgb(255, 0, 0);"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">&lt;servlet-mapping&gt;</span></span></div><div><span style="color: rgb(255, 0, 0);"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">    &lt;!-- servlet的内部名称，一定要和上面的内部名称保持一致！！ --&gt;</span></span></div><div><span style="color: rgb(255, 0, 0);"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">    &lt;servlet-name&gt;FirstServlet&lt;/servlet-name&gt;</span></span></div><div><span style="color: rgb(255, 0, 0);"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">    &lt;!-- servlet的映射路径（访问servlet的名称） --&gt;</span></span></div><div><span style="color: rgb(255, 0, 0);"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">    &lt;url-pattern&gt;/first&lt;/url-pattern&gt;</span></span></div><div><span style="color: rgb(255, 0, 0);"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">  &lt;/servlet-mapping&gt;</span></span></div></div><div align="justify"><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                    url-pattern                  </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">浏览器输入</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">精确匹配             /first                 http://localhost:8080/day10</span></font><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">/first</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                                   </span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">/itcast/demo1          http://localhost:8080/day10</span></font><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">/itcast/demo1</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">模糊匹配             /*                   http://localhost:8080/day10</span></font><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">/</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">任意路径</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   /itcast/*  </span></font><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">            </span></font> <font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">http://localhost:8080/day10</span></font><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">/itcast/</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">任意路径</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                            </span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">       *.</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">后缀名              http://localhost:8080/day10</span></font><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">/</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">任意路径.do</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                                   </span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">*.do</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   *.action</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   *.html(</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">伪静态)</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">注意：</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">              1</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">）url-pattern要么以 / 开头，要么以*开头。  例如， itcast是非法路径。</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">              2</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">）不能同时使用两种模糊匹配，例如 /itcast/*.do是非法路径</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">              3</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">）当有输入的URL有多个servlet同时被匹配的情况下：</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                            3.1</span></font> <font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">精确匹配优先。（长的最像优先被匹配）</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                            3.2</span></font> <font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">以后缀名结尾的模糊url-pattern优先级最低！！！</span></font></div></div><div><br/></div><div align="justify" style="font-weight: bold; font-size: 26px;"><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b> servlet</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>缺省路径</b></span></font></div><div align="justify"><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">              servlet</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的缺省路径（&lt;url-pattern&gt;/&lt;/url-pattern&gt;）是在tomcat服务器内置的一个路径。该路径对应的是一个</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt"><b>DefaultServlet</b></span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（缺省Servlet）。这个缺省的Servlet的作用是用于解析web应用的</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">静态资源文件</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">。</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">              </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">问题： URL输入</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">http://localhost:8080/day10/index.html</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">如何读取文件？？？？</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">              1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）到当前day10应用下的web.xml文件查找是否有匹配的url-pattern。</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">              2</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）如果没有匹配的url-pattern，则交给tomcat的内置的DefaultServlet处理</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">              3</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）DefaultServlet程序到day10应用的根目录下查找是存在一个名称为index.html的静态文件。</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">              4</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）如果找到该文件，则读取该文件内容，返回给浏览器。</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">              5</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）如果找不到该文件，则返回404错误页面。</span></font></div><div align="justify" style="min-height: 13pt;"><div><span style="font-size: 24px;"><font color="#010101" face="Times New Roman">          <b><i>    </i></b></font><b><i><font color="#FF0000" face="Times New Roman">       </font><font color="#FF0000" face="宋体">结论： 先找动态资源，再找静态资源。</font></i></b></span></div></div></div></span>
</div></body></html> 