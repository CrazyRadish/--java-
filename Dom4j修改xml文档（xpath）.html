<html>
<head>
  <title>Dom4j修改xml文档（xpath）</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1829"/>
<h1>Dom4j修改xml文档（xpath）</h1>

<div>
<span><div><h1 align="justify"><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b>Dom4j</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>修改xml文档</b></span></font></h1></div><div><br/></div><div align="justify" style="font-weight: bold; font-size: 20px;"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>       写出内容到xml文档</b></span></font></div><div align="justify" style="font-weight: bold; font-size: 20px;"><span style="font-size: 12pt;"><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);"><br/></span></span></span></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            XMLWriter writer = new XMLWriter(OutputStream, OutputForamt)</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            wirter.write(Document);</span></font></div><div><br/></div><div align="justify" style="font-weight: bold; font-size: 20px;"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>       修改xml文档的API</b></span></font></div><div align="justify" style="font-weight: bold; font-size: 20px;"><span style="font-size: 12pt;"><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);"><br/></span></span></span></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                     </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">增加：</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   DocumentHelper.createDocument() </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">增加文档</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   addElement(&quot;</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">名称&quot;)  增加标签</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   addAttribute(&quot;</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">名称&quot;，“值”)  增加属性</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                     </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">修改：</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   Attribute.setValue(&quot;</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">值&quot;)  修改属性值</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   Element.addAtribute(&quot;</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">同名的属性名&quot;,&quot;值&quot;)  修改同名的属性值</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   Element.setText(&quot;</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">内容&quot;)  修改文本内容</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                     </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">删除</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   Element.detach(); </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">删除标签</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt"> </span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   Attribute.detach(); </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">删除属性</span></font></div><div><br/></div><div align="justify" style="font-weight: bold; font-size: 26px;"><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b> xPath</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>技术 </b></span></font></div><div><br/></div><div align="justify" style="font-weight: bold; font-size: 20px;"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>          引入</b></span></font></div><div align="justify" style="font-weight: bold; font-size: 20px;"><span style="font-size: 12pt;"><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);"><br/></span></span></span></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                     </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">问题：当使用dom4j查询</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">比较深的层次结构</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的节点（标签，属性，文本），比较麻烦！！！</span></font></div><div><br/></div><div align="justify" style="font-weight: bold; font-size: 20px;"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>         xPath作用</b></span></font></div><div align="justify" style="font-weight: bold; font-size: 20px;"><span style="font-size: 12pt;"><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);"><br/></span></span></span></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">主要是用于快速获取所需的节点对象。</span></font></div><div><br/></div><div align="justify" style="font-weight: bold; font-size: 20px;"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>         在dom4j中如何使用xPath技术</b></span></font></div><div align="justify" style="font-weight: bold; font-size: 20px;"><span style="font-size: 12pt;"><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);"><br/></span></span></span></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）导入xPath支持jar包 。 </span></font> <font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">jaxen-1.1-beta-6.jar</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            2</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）使用xpath方法</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                          List&lt;Node&gt;  selectNodes(&quot;xpath</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">表达式&quot;);   查询多个节点对象</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                          Node       selectSingleNode(&quot;xpath</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">表达式&quot;);  查询一个节点对象</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            </span></font></div><div><br/></div><div align="justify" style="font-weight: bold; font-size: 20px;"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>          xPath语法</b></span></font></div><div align="justify" style="font-weight: bold; font-size: 20px;"><font color="#010101" face="宋体"><span style="font-size:12pt"><b><a href="Dom4j修改xml文档（xpath）_files/jaxen-1.1-beta-6.jar"><img src="Dom4j修改xml文档（xpath）_files/0e0d9c0ac0b119363709f303772aa009.png" alt="jaxen-1.1-beta-6.jar"></a></b></span></font><br/></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            /     </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">绝对路径      表示从xml的根位置开始或子元素（一个层次结构）</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            //    </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">相对路径       表示不分任何层次结构的选择元素。</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            *     </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">通配符         表示匹配所有元素</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            []     </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">条件           表示选择什么条件下的元素</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            @    </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">属性            表示选择属性节点</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            and    </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">关系          表示条件的与关系（等价于&amp;&amp;）</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            text()   </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">文本           表示选择文本内容</span></font></div><div><br/></div><div align="justify" style="font-weight: bold; font-size: 20px;"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>          案例</b></span></font></div><div align="justify" style="font-weight: bold; font-size: 20px;"><span style="font-size: 12pt;"><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);"><br/></span></span></span></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">用户登录功能：</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">用户输入用户名和密码 -&gt; 到“数据库”查询是否有对应的用户 -&gt;</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                          </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">有： 则表示登录成功</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                          </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">没有： 则表示登录失败</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">用xml当做数据库</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                          user.xml  </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">用来存储用户的数据</span></font></div><div align="justify" style="min-height: 12pt;"><div><a href="Dom4j修改xml文档（xpath）_files/XPathTutorial.zip"><img src="Dom4j修改xml文档（xpath）_files/492ecdd6b208cc70c117797d5a968003.png" alt="XPathTutorial.zip"></a></div></div></span>
</div></body></html> 