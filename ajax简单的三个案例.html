<html>
<head>
  <title>ajax简单的三个案例</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1824"/>
<h1>ajax简单的三个案例</h1>

<div>
<span><div><span style="color: rgb(255, 0, 0);"><i><span style="font-size: 21px;">ajax简单的三个案例</span></i></span></div><div align="justify" style="min-height: 13pt;"><b><span style="font-size: 16px;"><font color="#010101" face="宋体">1）无需刷新整个Web页面显示服务器响应的当前时间</font></span></b></div><div align="justify" style="margin-left:7mm; margin-right:0mm; text-indent:6mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt"> （text/html;charset=UTF-8）</span></font></div><div style="margin-left: 15mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:505px;" width="504"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="503"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font face="宋体" size="2"><span style="font-size:10pt">当前时间:</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">span</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">span</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">br</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font><div align="justify" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;button&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">异步方式提交&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></div></td></tr></table></div><div align="justify" style="margin-left:7mm; margin-right:0mm; text-indent:6mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 12pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt"> </span></font></div><div style="margin-left: 15mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:505px;" width="504"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="503"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">script</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;text/javascript&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">定位button按钮，同时添加单击事件</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font face="Courier New" size="2"><span style="font-size:10pt">document.getElementsByTagName(</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;input&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)[0].onclick =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">function</span></font><font face="Courier New" size="2"><span style="font-size:10pt">()</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//NO1)</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">创建AJAX异步对象（每个浏览器内置的，无需第三方jar包）</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ajax = createAJAX();</span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//0</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           //NO2)AJAX</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">异步对象准备发送请求</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">url =</span></font> <font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;${pageContext.request.contextPath}/TimeServletAjax?id=&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">new</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Date().getTime();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">method =</span></font> <font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;GET&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           ajax.open(method,url);</span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//1</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           //NO3</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">）AJAX异步对象真正发送请求体的数据到服务器，如果请求体无数据的话，用null表示</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">content =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">null</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           ajax.send(content);</span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//2</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           //----------------------------------------</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">等待</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//NO4</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">）AJAX异步对象不断监听服务端状态的变化，只有状态码变化了，方可触发函数</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           //0-1-2-3-4,</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">这些是可以触发函数的</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           //4-4-4-4-4</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">，这些是不可以触发函数的</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           //</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">以下这个函数是服务器来触发的，不是程序员触发的，这和onclick是不一样的</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font face="Courier New" size="2"><span style="font-size:10pt">ajax.onreadystatechange =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">function</span></font><font face="Courier New" size="2"><span style="font-size:10pt">()</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">如果AJAX状态码为4</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">if</span></font><font face="Courier New" size="2"><span style="font-size:10pt">(ajax.readyState == 4)</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">                  </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">如果服务器响应码是200</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">                  </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">if</span></font><font face="Courier New" size="2"><span style="font-size:10pt">(ajax.status == 200)</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">                     </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//NO5</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">）从AJAX异步对象中获取服务器响应的结果</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">                     </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">str = ajax.responseText;</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                     </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//NO6</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">）按照DOM规则，将结果动态添加到web页面指向的标签中</span></font></div><div align="left" style="min-height: 11pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">                      </span></font><font face="Courier New" size="2"><span style="font-size:10pt">document.getElementsByTagName(</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;span&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)[0].innerHTML = str;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">              }</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">           }</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">       }</span></font></div><div align="justify" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">script</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div></td></tr></table></div><div align="justify" style="margin-left:7mm; margin-right:0mm; text-indent:6mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 12pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt"> </span></font></div><div style="margin-left: 15mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:505px;" width="504"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="503"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">TimeServletAjax</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HttpServlet {</span></font><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">doGet(HttpServletRequest request, HttpServletResponse response)</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ServletException, IOException {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       SimpleDateFormat sdf =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">SimpleDateFormat(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;yyyy-MM-dd HH:mm:ss&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       String str = sdf.format(</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Date());</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">注意：在Web2.0时代，即异步方式下，不能用转发或重定向</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">因为：转发或重定向会引起浏览器全部刷新，而不是局部刷新</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F7F5F" face="宋体" size="2"><span style="font-size:10pt">所以得用以输出流的方式将服务器的结果输出到浏览器</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       response.setContentType(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;text/html;charset=UTF-8&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       PrintWriter pw = response.getWriter();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       pw.write(str);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       pw.flush();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       pw.close();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div><div align="justify" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></td></tr></table></div><div align="justify" style="margin-left:15mm; margin-right:0mm; text-indent:-15mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">   <b><span style="font-size: 16px;">（2）基于HTML，以GET或POST方式，检查注册用户名是否在数据库中已存在（text/html;charset=UTF-8）</span></b></span></font></div><div style="margin-left: 18mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:496px;" width="495"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="494"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font face="宋体" size="2"><span style="font-size:10pt">输入用户名[POST]：</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;text&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">maxlength</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;8&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font><font face="宋体" size="2"><span style="font-size:10pt">光标移出后，立刻显示结果</span></font><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">hr</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></div><div align="justify" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">div</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">div</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div></td></tr></table></div><div align="justify" style="margin-left:15mm; margin-right:0mm; text-indent:-15mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 12pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        </span></font></div><div style="margin-left: 18mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:496px;" width="495"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="494"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">RegisterServletPost</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HttpServlet {</span></font><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">doPost(HttpServletRequest request, HttpServletResponse response)</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ServletException, IOException {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       request.setCharacterEncoding(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;UTF-8&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       String username = request.getParameter(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;username&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       String tip =</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;images/MsgSent.gif&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">杰克&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.equals(username)){</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           tip =</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;images/MsgError.gif&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       response.setContentType(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;text/html;charset=UTF-8&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       PrintWriter pw = response.getWriter();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       pw.write(tip);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       pw.flush();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       pw.close();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div><div align="justify" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></td></tr></table></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:6mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><b><span style="font-size: 16px;"><font color="#010101" face="宋体">（3）基于XML，以POST方式，完成省份-城市二级下拉联动</font></span></b></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:13mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt"> （text/xml;charset=UTF-8）</span></font></div><div style="margin-left: 15mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:505px;" width="504"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="503"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">select</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;province&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">style</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;width:111px&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">option</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="宋体" size="2"><span style="font-size:10pt">选择省份</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">option</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">option</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="宋体" size="2"><span style="font-size:10pt">广东</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">option</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">option</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="宋体" size="2"><span style="font-size:10pt">湖南</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">option</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">option</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="宋体" size="2"><span style="font-size:10pt">湖北</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">option</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">select</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">select</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;city&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">style</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;width:111px&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">option</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="宋体" size="2"><span style="font-size:10pt">选择城市</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">option</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="justify" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">select</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div></td></tr></table></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:13mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 12pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt"> </span></font></div><div style="margin-left: 15mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:505px;" width="504"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="503"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">script</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;text/javascript&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">定位省份下拉框，同时添时内容改变事件</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font face="Courier New" size="2"><span style="font-size:10pt">document.getElementById(</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;province&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).onchange =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">function</span></font><font face="Courier New" size="2"><span style="font-size:10pt">()</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">清除城市下拉框中的内容除第一项外</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">citySelectElement = document.getElementById(</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;city&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           citySelectElement.options.length = 1;</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">获取选中的省份</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">this</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.selectedIndex;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">optionElement =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">this</span></font><font face="Courier New" size="2"><span style="font-size:10pt">[i];</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">province = optionElement.innerHTML;</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">如果不是&quot;选择省份&quot;的话</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">if</span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#8E00FF" face="宋体" size="2"><span style="font-size:10pt">选择省份&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">!= province)</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//NO1)</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ajax = createAJAX();</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//NO2</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">）</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">method =</span></font> <font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;POST&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">url =</span></font> <font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;${pageContext.request.contextPath}/ProvinceCityServlet?id=&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">new</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Date().getTime();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              ajax.open(method,url);</span></font></div><div align="left" style="min-height: 11pt;"><font face="Courier New" size="2"><span style="font-size:10pt">               ajax.setRequestHeader(</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;content-type&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;application/x-www-form-urlencoded&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//NO3)</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">content =</span></font> <font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;province=&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+province;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              ajax.send(content);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              </span></font></div><div align="left" style="min-height: 11pt;"><font face="Courier New" size="2"><span style="font-size:10pt">               </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//-------------------------------------------------</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">              </span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">              //NO4</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">）</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font face="Courier New" size="2"><span style="font-size:10pt">ajax.onreadystatechange =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">function</span></font><font face="Courier New" size="2"><span style="font-size:10pt">()</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">                  if</span></font><font face="Courier New" size="2"><span style="font-size:10pt">(ajax.readyState == 4)</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">                     if</span></font><font face="Courier New" size="2"><span style="font-size:10pt">(ajax.status == 200)</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">                         </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//NO5)</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">                         </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">xmlDocument = ajax.responseXML;</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                         </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//NO6</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">）按照dom规则，解析xml文件中的所有内容</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">                         </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cityElementArray = xmlDocument.getElementsByTagName(</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;city&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                         </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">size = cityElementArray.length;                         </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                         </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">for</span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">i=0;i&lt;size;i++)</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">                            var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">cityElement = cityElementArray[i];</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                            </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//innerHTML</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">只能用于html和jsp页面，不能用于xml页面</span></font></div><div align="left" style="min-height: 14pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">                            //</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">在xml页面我们通常用firstChild.nodeValue去替代innerHTML</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                            </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">city = cityElement.firstChild.nodeValue;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                            </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//&lt;option&gt;&lt;/option&gt;</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">                            </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">optionElement = document.createElement(</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;option&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                            </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//&lt;option&gt;</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">广州&lt;/option&gt;</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">                            </span></font><font face="Courier New" size="2"><span style="font-size:10pt">optionElement.innerHTML = city;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                            </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//&lt;select id=&quot;city&quot; style=&quot;width:111px&quot;&gt;&lt;option&gt;</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">广州&lt;/option&gt;&lt;/select&gt;</span></font></div><div align="left" style="min-height: 11pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                             citySelectElement.appendChild(optionElement);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                         </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">                     }</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">                  }</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">              }</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">           }</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">       }</span></font></div><div align="justify" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">script</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div></td></tr></table></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:13mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 12pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt"> </span></font></div><div style="margin-left: 15mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:505px;" width="504"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="503"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ProvinceCityServlet</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HttpServlet {</span></font><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">doGet(HttpServletRequest request, HttpServletResponse response)</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ServletException, IOException {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.doPost(request,response);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">doPost(HttpServletRequest request, HttpServletResponse response)</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ServletException, IOException {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       request.setCharacterEncoding(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;UTF-8&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       String province = request.getParameter(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;province&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       response.setContentType(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;text/xml;charset=UTF-8&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       PrintWriter pw = response.getWriter();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       pw.write(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;?xml version='1.0' encoding='UTF-8'?&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       pw.write(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;root&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">广东&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.equals(province)){</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           pw.write(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">广州&lt;/city&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           pw.write(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">深圳&lt;/city&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           pw.write(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">中山&lt;/city&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           pw.write(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">珠海&lt;/city&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>else</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">湖南&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.equals(province)){</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           pw.write(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">长沙&lt;/city&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           pw.write(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">株洲&lt;/city&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           pw.write(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">张家界&lt;/city&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>else</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">湖北&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.equals(province)){</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           pw.write(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">武汉&lt;/city&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           pw.write(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">黄岗&lt;/city&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       }</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       pw.write(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;/root&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       pw.flush();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       pw.close();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div><div align="justify" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></td></tr></table></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">   （4）验证码检查</span></font></div><div align="justify" style="margin-left:0mm; margin-right:-31mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        （text/html;charset=UTF-8）</span></font></div><div style="margin-left: 15mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;" width="504"><colgroup><col width="504"></col></colgroup><tbody><tr><td align="left" style="border: solid #000000 1px;" valign="top" width="503"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">form</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><div align="left" style="min-height: 13pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font face="宋体" size="2"><span style="font-size:10pt">验证码：</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;text&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">maxlength</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;4&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">size</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;4&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">img</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">src</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;image.jsp&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;button&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">看不清&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">size</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;2&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">span</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">span</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="justify" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">form</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div></td></tr></tbody></table></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">       </span></font></div><div style="margin-left: 15mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:505px;" width="504"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="503"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">script</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;text/javascript&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">定位按钮，同时添加单击事件</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font face="Courier New" size="2"><span style="font-size:10pt">document.getElementsByTagName(</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;input&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)[1].onclick =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">function</span></font><font face="Courier New" size="2"><span style="font-size:10pt">()</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">定位img标签，修改src属性</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font face="Courier New" size="2"><span style="font-size:10pt">document.images[0].src =</span></font> <font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;image.jsp?id=&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">new</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Date().getTime();</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">清空span标签中的内容</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">spanElement = document.getElementsByTagName(</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;span&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)[0];</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           spanElement.innerHTML =</span></font> <font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">清空文本框中的内容</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font face="Courier New" size="2"><span style="font-size:10pt">document.getElementsByTagName(</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;input&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)[0].value =</span></font> <font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">script</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">script</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;text/javascript&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">定位文本框，同时添加键盘弹起事件</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font face="Courier New" size="2"><span style="font-size:10pt">document.getElementsByTagName(</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;input&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)[0].onkeyup =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">function</span></font><font face="Courier New" size="2"><span style="font-size:10pt">()</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 14pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">获取输入的验证码</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">checkcode =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">this</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.value;</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">去空格</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font face="Courier New" size="2"><span style="font-size:10pt">checkcode = trim(checkcode);</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">获取验证码的长度</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">size = checkcode.length;</span></font></div><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">如果长度为4</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">if</span></font><font face="Courier New" size="2"><span style="font-size:10pt">(size == 4)</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//NO1)</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ajax = createAJAX();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//NO2)</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">method =</span></font> <font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;POST&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">url =</span></font> <font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;${pageContext.request.contextPath}/CheckcodeServlet?id=&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">new</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Date().getTime();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              ajax.open(method,url);</span></font></div><div align="left" style="min-height: 11pt;"><font face="Courier New" size="2"><span style="font-size:10pt">               ajax.setRequestHeader(</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;content-type&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;application/x-www-form-urlencoded&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//NO3)</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">content =</span></font> <font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;checkcode=&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+ checkcode;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              ajax.send(content);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//--------------------------------------------</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">              </span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">              //NO4)</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font face="Courier New" size="2"><span style="font-size:10pt">ajax.onreadystatechange =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">function</span></font><font face="Courier New" size="2"><span style="font-size:10pt">()</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">                  if</span></font><font face="Courier New" size="2"><span style="font-size:10pt">(ajax.readyState == 4)</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">                     if</span></font><font face="Courier New" size="2"><span style="font-size:10pt">(ajax.status == 200)</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">                         </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//NO5)</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">                         </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">imagePath = ajax.responseText;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                         </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                         </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//NO6)</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">                         </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">imgElement = document.createElement(</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;img&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                         imgElement.src = imagePath;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                         imgElement.style.width =</span></font> <font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;14px&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                         imgElement.style.height =</span></font> <font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;14px&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                         </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">spanElement = document.getElementsByTagName(</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;span&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)[0];</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                         spanElement.innerHTML =</span></font> <font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                         spanElement.appendChild(imgElement);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">                     </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">                  }</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">              }</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">           }else{</span></font></div><div align="left" style="min-height: 14pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">清空span标签中的内容</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">              </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">spanElement = document.getElementsByTagName(</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;span&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)[0];</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">              spanElement.innerHTML =</span></font> <font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">       }</span></font></div><div align="justify" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">script</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div></td></tr></table></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">       </span></font></div><div style="margin-left: 15mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:505px;" width="504"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="503"><font color="#7F0055" face="Courier New"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New"><span style="font-size:12pt"><b>class</b></span></font> <font face="Courier New"><span style="font-size:12pt">CheckcodeServlet</span></font> <font color="#7F0055" face="Courier New"><span style="font-size:12pt"><b>extends</b></span></font> <font face="Courier New"><span style="font-size:12pt">HttpServlet {</span></font><div align="left" style="min-height: 12pt;"><font face="Courier New"><span style="font-size:12pt">   </span></font><font color="#7F0055" face="Courier New"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New"><span style="font-size:12pt"><b>void</b></span></font> <font face="Courier New"><span style="font-size:12pt">doPost(HttpServletRequest request, HttpServletResponse response)</span></font><font color="#7F0055" face="Courier New"><span style="font-size:12pt"><b>throws</b></span></font> <font face="Courier New"><span style="font-size:12pt">ServletException, IOException {</span></font></div><div align="left" style="min-height: 12pt;"><font face="Courier New"><span style="font-size:12pt">      request.setCharacterEncoding(</span></font><font color="#2A00FF" face="Courier New"><span style="font-size:12pt">&quot;UTF-8&quot;</span></font><font face="Courier New"><span style="font-size:12pt">);</span></font></div><div align="left" style="min-height: 15pt;"><font face="Courier New"><span style="font-size:12pt">      </span></font><font color="#3F7F5F" face="Courier New"><span style="font-size:12pt">//</span></font><font color="#3F7F5F" face="宋体"><span style="font-size:12pt">获取客户端输入的验证码</span></font></div><div align="left" style="min-height: 12pt;"><font face="Courier New"><span style="font-size:12pt">      String checkcodeClient = request.getParameter(</span></font><font color="#2A00FF" face="Courier New"><span style="font-size:12pt">&quot;checkcode&quot;</span></font><font face="Courier New"><span style="font-size:12pt">);</span></font></div><div align="left" style="min-height: 15pt;"><font face="Courier New"><span style="font-size:12pt">      </span></font><font color="#3F7F5F" face="Courier New"><span style="font-size:12pt">//</span></font><font color="#3F7F5F" face="宋体"><span style="font-size:12pt">获取服务端产生的验证码</span></font></div><div align="left" style="min-height: 12pt;"><font face="Courier New"><span style="font-size:12pt">      HttpSession httpSession = request.getSession();</span></font></div><div align="left" style="min-height: 12pt;"><font face="Courier New"><span style="font-size:12pt">      String checkcodeServer = (String) httpSession.getAttribute(</span></font><font color="#2A00FF" face="Courier New"><span style="font-size:12pt">&quot;CHECKNUM&quot;</span></font><font face="Courier New"><span style="font-size:12pt">);</span></font></div><div align="left" style="min-height: 15pt;"><font face="Courier New"><span style="font-size:12pt">      </span></font><font color="#3F7F5F" face="Courier New"><span style="font-size:12pt">//</span></font><font color="#3F7F5F" face="宋体"><span style="font-size:12pt">二个验证码进行比较</span></font></div><div align="left" style="min-height: 12pt;"><font face="Courier New"><span style="font-size:12pt">      String tip =</span></font> <font color="#2A00FF" face="Courier New"><span style="font-size:12pt">&quot;images/MsgError.gif&quot;</span></font><font face="Courier New"><span style="font-size:12pt">;</span></font></div><div align="left" style="min-height: 12pt;"><font face="Courier New"><span style="font-size:12pt">      </span></font><font color="#7F0055" face="Courier New"><span style="font-size:12pt"><b>if</b></span></font><font face="Courier New"><span style="font-size:12pt">(checkcodeClient!=</span></font><font color="#7F0055" face="Courier New"><span style="font-size:12pt"><b>null</b></span></font> <font face="Courier New"><span style="font-size:12pt">&amp;&amp; checkcodeServer!=</span></font><font color="#7F0055" face="Courier New"><span style="font-size:12pt"><b>null</b></span></font> <font face="Courier New"><span style="font-size:12pt">&amp;&amp; checkcodeClient.equals(checkcodeServer)){</span></font></div><div align="left" style="min-height: 12pt;"><font face="Courier New"><span style="font-size:12pt">        tip =</span></font> <font color="#2A00FF" face="Courier New"><span style="font-size:12pt">&quot;images/MsgSent.gif&quot;</span></font><font face="Courier New"><span style="font-size:12pt">;</span></font></div><div align="left" style="min-height: 12pt;"><font face="Courier New"><span style="font-size:12pt">      }</span></font></div><div align="left" style="min-height: 15pt;"><font face="Courier New"><span style="font-size:12pt">      </span></font><font color="#3F7F5F" face="Courier New"><span style="font-size:12pt">//</span></font><font color="#3F7F5F" face="宋体"><span style="font-size:12pt">以流的方式输出tip变量</span></font></div><div align="left" style="min-height: 11pt;"><font face="Courier New"><span style="font-size:12pt">      response.setContentType(</span></font><font color="#2A00FF" face="Courier New"><span style="font-size:12pt">&quot;text/html;charset=UTF-8&quot;</span></font><font face="Courier New"><span style="font-size:12pt">);</span></font></div><div align="left" style="min-height: 12pt;"><font face="Courier New"><span style="font-size:12pt">      PrintWriter pw = response.getWriter();</span></font></div><div align="left" style="min-height: 12pt;"><font face="Courier New"><span style="font-size:12pt">      pw.write(tip);</span></font></div><div align="left" style="min-height: 12pt;"><font face="Courier New"><span style="font-size:12pt">      pw.flush();</span></font></div><div align="left" style="min-height: 12pt;"><font face="Courier New"><span style="font-size:12pt">      pw.close();</span></font></div><div align="left" style="min-height: 12pt;"><font face="Courier New"><span style="font-size:12pt">   }</span></font></div><div align="justify" style="min-height: 12pt;"><font face="Courier New"><span style="font-size:12pt">}</span></font></div></td></tr></table></div></span>
</div></body></html> 