<html>
<head>
  <title>ServletContext对象（servlet）</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2294"/>
<h1>ServletContext对象（servlet）</h1>

<div>
<span><div><br/></div><div align="justify"><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b>ServletContext</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>对象</b></span></font></div><div><br/></div><div align="justify"><span style="font-size: 20px;"><b><font color="#010101" face="宋体"><span style="font-size:12pt"><b>     </b></span></font></b></span> <font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b>ServletContext</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>对象</b></span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">,叫做Servlet的上下文对象。表示一个当前的web应用环境。一个web应用中只有一</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">个ServletContext对象。</span></font></div><div><br/></div><div align="justify" style="font-weight: bold; font-size: 20px;"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>       对象创建和得到</b></span></font></div><div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                     </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">创建时机：加载web应用时创建ServletContext对象。</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                     </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">得到对象：</span></font> <font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">从ServletConfig对象的getServletContext方法得到</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   </span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">我们设计：</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">创建ServletConfig对象</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   public void init( ServletConfig config</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">，ServletContext context</span></font> <font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">){ </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">多了一个参数</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                          </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">得到ServletConfig对象</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                          </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">得到ServletContext对象；</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   }</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            Sun</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">公司设计</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）创建ServletContext对象</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">       ServletContext  context = new ServletContext()            </span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   2</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）创建ServletConfig对象   ServetConfig config = new ServletConfig();</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                              config.setServletContxt(context);</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   class  ServletConfig{</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                          </span></font><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">       ServletContext context</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">;</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                                 public ServletContext getServletContxt(){</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                                        return contxt;</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                                 }</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   }</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   public void init( ServletConfig config ){</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                          </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">得到ServletConfig对象</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   </span></font><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">       </span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">从ServletConfig对象中得到ServletContext对象</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                                          SerlvetContext context = config.getServletContext();</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   }</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            </span></font></div><div align="justify" style="min-height: 15pt;"><div><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                    </span></font> <font color="#010101" face="宋体"><span style="font-size:12pt"><b>ServletContext对象的核心API(作用</b></span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">)</span></font></div></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">              </span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">              </span></font><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">       java.lang.String getContextPath()   --</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">得到当前web应用的路径</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                     java.lang.String getInitParameter(java.lang.String name)  --</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">得到web应用的初始化参数</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                     java.util.Enumeration getInitParameterNames() </span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                     void setAttribute(java.lang.String name, java.lang.Object object) --</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">域对象有关的方法</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                     java.lang.Object getAttribute(java.lang.String name) </span></font></div><div align="justify" style="min-height: 12pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                     void removeAttribute(java.lang.String name) </span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                     RequestDispatcher getRequestDispatcher(java.lang.String path)   --</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">转发（类似于重定向）</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                     java.lang.String getRealPath(java.lang.String path)     --</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">得到web应用的资源文件</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                     java.io.InputStream getResourceAsStream(java.lang.String path) </span></font></div><h2 align="justify"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>         10.3 得到web应用路径</b></span></font></h2><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            </span></font><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">java.lang.String getContextPath() </span></font> <font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">用在请求重定向的资源名称中</span></font></div><h2 align="justify"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>         10.4得到web应用的初始化参数（全局）</b></span></font></h2><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                     </span></font><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">java.lang.String getInitParameter(java.lang.String name)  --</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">得到web应用的初始化参数</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                     java.util.Enumeration getInitParameterNames() </span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                            web</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">应用参数可以让当前web应用的所有servlet获取！！！</span></font></div><h2 align="justify"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>         10.5域对象有关的方法</b></span></font></h2><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">域对象：作用是用于</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">保存数据，获取数据</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">。可以在不同的动态资源之间</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">共享数据</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">。</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">案例：  </span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   Servlet1                   Servlet2</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                             name=eric                    </span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            response.sendRedirect(&quot;/Servlet2</span></font><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">?name=eric</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">&quot;)             String request.getParameter(&quot;name&quot;);</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">保存到域对象中            从域对象获取</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                                   Student                 </span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">方案1： 可以通过传递参数的形式，共享数据。局限：只能传递字符串类型。</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">方案2： 可以使用域对象共享数据，好处：</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt"><span style="font-size: 21px;">可以共享任何类型的数据！！！！</span>！</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                            ServletContext</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">就是一个域对象！！！！</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">              </span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">       </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">保存数据：</span></font><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">void setAttribute(java.lang.String name, java.lang.Object object)     </span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            </span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                     </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">获取数据：</span></font> <font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">java.lang.Object getAttribute(java.lang.String name) </span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                     </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">删除数据：</span></font> <font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">void removeAttribute(java.lang.String name) </span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                     ServletContext</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">域对象：作用范围在整个web应用中有效！！！</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                                   </span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">所有域对象：</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                                          HttpServletRequet</span></font> <font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">域对象</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                                          ServletContext</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">域对象</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                                          HttpSession</span></font> <font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">域对象</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                                          PageContext</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">域对象</span></font><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">       </span></font></div></div><div><br/></div><div align="justify" style="font-weight: bold; font-size: 20px;"><font color="#010101" face="宋体"><span style="font-size:12pt"><b>         转发</b></span></font></div><div align="justify" style="min-height: 12pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                      RequestDispatcher getRequestDispatcher(java.lang.String path)</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">              </span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">       1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）转发</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                             a</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）地址栏不会改变</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                             b</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）转发只能转发到当前web应用内的资源</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            c</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）可以在转发过程中，可以把数据保存到request域对象中</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                     2</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）重定向</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                   </span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            a</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）地址栏会改变，变成重定向到地址。</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            b</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）重定向可以跳转到当前web应用，或其他web应用，甚至是外部域名网站。</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                            c</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）不能再重定向的过程，把数据保存到request中。</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">                     </span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">结论： <span style="font-size: 21px;">如果要使用request域对象进行数据共享，只能用转发技术！！！</span></span></font></div><div align="justify" style="min-height: 13pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                     </span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">总结：</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                            Servlet</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">编程:</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                                   Servlet</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">生命周期（重点）</span></font></div><div align="justify" style="min-height: 13pt;"><div><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">                                   </span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">其他都是应用的东西（敲代码练习）</span></font></div></div></span>
</div></body></html> 