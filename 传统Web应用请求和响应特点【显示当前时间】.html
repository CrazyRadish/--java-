<html>
<head>
  <title>传统Web应用请求和响应特点【显示当前时间】</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1828"/>
<h1>传统Web应用请求和响应特点【显示当前时间】</h1>

<div>
<span><div align="justify" style="min-height: 18pt;"><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>传统Web应用请求和响应特点【显示当前时间】</b></span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">   （1）请求：浏览器以HTTP协议的方式提交请求到服务器</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">   （2）响应：服务器以HTTP协议的方式响应内容到浏览器</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">              注意：HTTP是WEB大众化非安全协议       </span></font></div><div align="justify" style="margin-left:26mm; margin-right:-31mm; text-indent:-11mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">      HTTPS是WEB安全协议，是基于HTTP协议的，且加了一些加密等特殊功能，常用于在线支付，或者是需要安全性较高的网站中，例如：12306网站 </span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">              HTTP请求有三个部份组成：请求行，请求头，请求体</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">              HTTP响应有三个部份组成：响应行，响应头，响应体                </span></font></div><div align="justify" style="margin-left:28mm; margin-right:0mm; text-indent:-28mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">   （3）状态栏：有明显的进度条刷新现象，如果服务器响应较慢的话，进度条刷新也会变慢，IE9等中高版本浏览器，有明显转圈圈图标</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">   （4）历史栏：会收集原来已访问过的web页面，进行缓存</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">   （5）缺点：不需变化的大量数据，也全部刷新，造成浏览器加载和处理负担  </span></font></div><div align="justify" style="margin-left:15mm; margin-right:0mm; text-indent:-15mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">   （6）可改进的地方：让不需变化的大量数据，原封不动，不用缓存到历史栏中，无需全部刷新，只刷新某些需要变化的数据区域，例如：当前时间的区域</span></font></div><div style="margin-left: 15mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;" width="504"><colgroup><col width="504"></col></colgroup><tbody><tr><td align="left" style="border: solid #000000 1px;" valign="top" width="503"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font face="宋体" size="2"><span style="font-size:10pt">当前时间:</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">span</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">${requestScope.str}</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">span</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">br</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font><div align="justify" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;button&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;</span></font><font color="#2A00FF" face="宋体" size="2"><span style="font-size:10pt">同步方式提交&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></div></td></tr></tbody></table></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">       </span></font></div><div style="margin-left: 15mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;" width="504"><colgroup><col width="504"></col></colgroup><tbody><tr><td align="left" style="border: solid #000000 1px;" valign="top" width="503"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">script</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;text/javascript&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><div align="left" style="min-height: 14pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">//</span></font><font color="#3F5FBF" face="宋体" size="2"><span style="font-size:10pt">定位button按钮，同时添加单击事件</span></font></div><div align="left" style="min-height: 10pt;"><font color="#3F5FBF" face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font face="Courier New" size="2"><span style="font-size:10pt">document.getElementsByTagName(</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;input&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)[0].onclick =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">function</span></font><font face="Courier New" size="2"><span style="font-size:10pt">()</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">           var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">url =</span></font> <font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;${pageContext.request.contextPath}/TimeServlet?id=&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">+</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">new</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Date().getTime();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">           window.location.href = url; </span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="justify" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">script</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div></td></tr></tbody></table></div><div align="justify" style="margin-left:15mm; margin-right:0mm; text-indent:-15mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 12pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">       </span></font></div><div style="margin-left: 15mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;" width="504"><colgroup><col width="504"></col></colgroup><tbody><tr><td align="left" style="border: solid #000000 1px;" valign="top" width="503"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">TimeServlet</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HttpServlet {</span></font><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">doGet(HttpServletRequest request, HttpServletResponse response)</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ServletException, IOException {</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       System.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.println(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;TimeServlet::doGet&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       SimpleDateFormat sdf =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">SimpleDateFormat(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;yyyy-MM-dd HH:mm:ss&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       String str = sdf.format(</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Date());</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">       request.setAttribute(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;str&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,str);</span></font></div><div align="left" style="min-height: 11pt;"><font face="Courier New" size="2"><span style="font-size:10pt">        request.getRequestDispatcher(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;/06_time.jsp&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">).forward(request,response);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    }</span></font></div><div align="justify" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></td></tr></tbody></table></div></span>
</div></body></html> 