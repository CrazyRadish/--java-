<html>
<head>
  <title>spring开发步骤</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1707"/>
<h1>spring开发步骤</h1>

<div>
<span><div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">spring各个版本中：</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">    在3.0以下的版本，源码有spring中相关的所有包【spring功能 + 依赖包】</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        如2.5版本；</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">    在3.0以上的版本，源码中只有spring的核心功能包【没有依赖包】</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        (如果要用依赖包，需要单独下载！)</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">1） 源码, jar文件：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">spring-framework-3.2.5.RELEASE</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">    </span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">commons-logging-1.1.3.jar</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">           日志</span></font></div><div align="justify" style="margin-left:7mm; margin-right:0mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 14pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">spring-beans-3.2.5.RELEASE.jar</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        bean节点</span></font></div><div align="justify" style="margin-left:7mm; margin-right:0mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 14pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">spring-context-3.2.5.RELEASE.jar</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">       spring上下文节点</span></font></div><div align="justify" style="margin-left:7mm; margin-right:0mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 14pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">spring-core-3.2.5.RELEASE.jar</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">         spring核心功能</span></font></div><div align="justify" style="margin-left:7mm; margin-right:0mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 14pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">spring-expression-3.2.5.RELEASE.jar</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">    spring表达式相关表</span></font></div><div align="justify" style="margin-left:7mm; margin-right:0mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">以上是必须引入的5个jar文件，在项目中可以用户库管理！</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">2） 核心配置文件: applicationContext.xml </span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">    </span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">S</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">pring配置文件：applicationContext.xml / bean.xml</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">    </span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">    约束参考：</span></font></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:7mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 14pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">spring-framework-3.2.5.RELEASE\docs\spring-framework-reference\htmlsingle</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">\index.html</span></font></div><div style="margin-left: -2mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:569px;" width="568"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="567"><font color="#008080" face="Courier New" size="1"><span style="font-size:9pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="1"><span style="font-size:9pt; background:#c0c0c0">beans</span></font> <font color="#7F007F" face="Courier New" size="1"><span style="font-size:9pt">xmlns</span></font><font face="Courier New" size="1"><span style="font-size:9pt">=</span></font><font color="#2A00FF" face="Courier New" size="1"><span style="font-size:9pt"><i>&quot;http://www.springframework.org/schema/beans&quot;</i></span></font><div align="left" style="min-height: 9pt;"><font color="#010101" face="Courier New" size="1"><span style="font-size:9pt">   </span></font> <font color="#7F007F" face="Courier New" size="1"><span style="font-size:9pt">xmlns:xsi</span></font><font face="Courier New" size="1"><span style="font-size:9pt">=</span></font><font color="#2A00FF" face="Courier New" size="1"><span style="font-size:9pt"><i>&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</i></span></font></div><div align="left" style="min-height: 9pt;"><font color="#010101" face="Courier New" size="1"><span style="font-size:9pt">   </span></font> <font color="#7F007F" face="Courier New" size="1"><span style="font-size:9pt">xmlns:p</span></font><font face="Courier New" size="1"><span style="font-size:9pt">=</span></font><font color="#2A00FF" face="Courier New" size="1"><span style="font-size:9pt"><i>&quot;http://www.springframework.org/schema/p&quot;</i></span></font></div><div align="left" style="min-height: 9pt;"><font color="#010101" face="Courier New" size="1"><span style="font-size:9pt">   </span></font> <font color="#7F007F" face="Courier New" size="1"><span style="font-size:9pt">xmlns:context</span></font><font face="Courier New" size="1"><span style="font-size:9pt">=</span></font><font color="#2A00FF" face="Courier New" size="1"><span style="font-size:9pt"><i>&quot;http://www.springframework.org/schema/context&quot;</i></span></font></div><div align="left" style="min-height: 9pt;"><font color="#010101" face="Courier New" size="1"><span style="font-size:9pt">   </span></font> <font color="#7F007F" face="Courier New" size="1"><span style="font-size:9pt">xsi:schemaLocation</span></font><font face="Courier New" size="1"><span style="font-size:9pt">=</span></font><font color="#2A00FF" face="Courier New" size="1"><span style="font-size:9pt"><i>&quot;</i></span></font></div><div align="left" style="min-height: 9pt;"><font color="#2A00FF" face="Courier New" size="1"><span style="font-size:9pt"><i>        http://www.springframework.org/schema/beans</i></span></font></div><div align="left" style="min-height: 9pt;"><font color="#2A00FF" face="Courier New" size="1"><span style="font-size:9pt"><i>        http://www.springframework.org/schema/beans/spring-beans.xsd</i></span></font></div><div align="left" style="min-height: 9pt;"><font color="#2A00FF" face="Courier New" size="1"><span style="font-size:9pt"><i>        http://www.springframework.org/schema/context</i></span></font></div><div align="left" style="min-height: 9pt;"><font color="#2A00FF" face="Courier New" size="1"><span style="font-size:9pt"><i>        http://www.springframework.org/schema/context/spring-context.xsd&quot;</i></span></font><font color="#008080" face="Courier New" size="1"><span style="font-size:9pt">&gt;</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">    </span></font></div><div align="justify" style="min-height: 9pt;"><font color="#008080" face="Courier New" size="1"><span style="font-size:9pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="1"><span style="font-size:9pt; background:#c0c0c0">beans</span></font><font color="#008080" face="Courier New" size="1"><span style="font-size:9pt">&gt;</span></font><font face="Courier New" size="1"><span style="font-size:9pt">  </span></font></div></td></tr></table></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">3）Api</span></font></div><div style="margin-left: -2mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:569px;" width="568"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="567"><font color="#7F0055" face="Courier New"><span style="font-size:13pt"><b>pu</b></span></font><font color="#7F0055" face="Courier New" size="1"><span style="font-size:9pt"><b>blic</b></span></font> <font color="#7F0055" face="Courier New" size="1"><span style="font-size:9pt"><b>class</b></span></font> <font face="Courier New" size="1"><span style="font-size:9pt">App {</span></font><div align="left" style="min-height: 13pt;"><font face="Courier New" size="1"><span style="font-size:9pt">    </span></font><font color="#3F7F5F" face="Courier New" size="1"><span style="font-size:9pt">// 1.</span></font> <font color="#3F7F5F" face="宋体" size="1"><span style="font-size:9pt">通过工厂类得到IOC容器创建的对象</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">    </span></font><font color="#646464" face="Courier New" size="1"><span style="font-size:9pt">@Test</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">    </span></font><font color="#7F0055" face="Courier New" size="1"><span style="font-size:9pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="1"><span style="font-size:9pt"><b>void</b></span></font> <font face="Courier New" size="1"><span style="font-size:9pt">testIOC()</span></font> <font color="#7F0055" face="Courier New" size="1"><span style="font-size:9pt"><b>throws</b></span></font> <font face="Courier New" size="1"><span style="font-size:9pt">Exception {</span></font></div><div align="left" style="min-height: 13pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        </span></font><font color="#3F7F5F" face="Courier New" size="1"><span style="font-size:9pt">//</span></font> <font color="#3F7F5F" face="宋体" size="1"><span style="font-size:9pt">创建对象</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        </span></font><font color="#3F7F5F" face="Courier New" size="1"><span style="font-size:9pt">// User user = new User();</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        </span></font></div><div align="left" style="min-height: 13pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        </span></font><font color="#3F7F5F" face="Courier New" size="1"><span style="font-size:9pt">//</span></font> <font color="#3F7F5F" face="宋体" size="1"><span style="font-size:9pt">现在，把对象的创建交给spring的IOC容器</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        Resource resource =</span></font> <font color="#7F0055" face="Courier New" size="1"><span style="font-size:9pt"><b>new</b></span></font> <font face="Courier New" size="1"><span style="font-size:9pt">ClassPathResource(</span></font><font color="#2A00FF" face="Courier New" size="1"><span style="font-size:9pt">&quot;cn/itcast/a_hello/applicationContext.xml&quot;</span></font><font face="Courier New" size="1"><span style="font-size:9pt">);</span></font></div><div align="left" style="min-height: 13pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        </span></font><font color="#3F7F5F" face="Courier New" size="1"><span style="font-size:9pt">//</span></font> <font color="#3F7F5F" face="宋体" size="1"><span style="font-size:9pt">创建容器对象(Bean的工厂), IOC容器 = 工厂类 + applicationContext.xml</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        </span><span style="font-size:9pt; background:#c0c0c0">BeanFactory</span> <span style="font-size:9pt">factory =</span></font> <font color="#7F0055" face="Courier New" size="1"><span style="font-size:9pt"><b><u>new</u></b></span></font> <font face="Courier New" size="1"><span style="font-size:9pt"><u>XmlBeanFactory(resource)</u></span><span style="font-size:9pt">;</span></font></div><div align="left" style="min-height: 13pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        </span></font><font color="#3F7F5F" face="Courier New" size="1"><span style="font-size:9pt">//</span></font> <font color="#3F7F5F" face="宋体" size="1"><span style="font-size:9pt">得到容器创建的对象</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        User user = (User) factory.getBean(</span></font><font color="#2A00FF" face="Courier New" size="1"><span style="font-size:9pt">&quot;user&quot;</span></font><font face="Courier New" size="1"><span style="font-size:9pt">);</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        </span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        System.</span></font><font color="#0000C0" face="Courier New" size="1"><span style="font-size:9pt"><i>out</i></span></font><font face="Courier New" size="1"><span style="font-size:9pt">.println(user.getId());</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        </span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">    }</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">    </span></font></div><div align="left" style="min-height: 13pt;"><font face="Courier New" size="1"><span style="font-size:9pt">    </span></font><font color="#3F7F5F" face="Courier New" size="1"><span style="font-size:9pt">//2.</span></font> <font color="#3F7F5F" face="宋体" size="1"><span style="font-size:9pt">（方便）直接得到IOC容器对象</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">    </span></font><font color="#646464" face="Courier New" size="1"><span style="font-size:9pt">@Test</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">    </span></font><font color="#7F0055" face="Courier New" size="1"><span style="font-size:9pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="1"><span style="font-size:9pt"><b>void</b></span></font> <font face="Courier New" size="1"><span style="font-size:9pt">testAc()</span></font> <font color="#7F0055" face="Courier New" size="1"><span style="font-size:9pt"><b>throws</b></span></font> <font face="Courier New" size="1"><span style="font-size:9pt">Exception {</span></font></div><div align="left" style="min-height: 13pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        </span></font><font color="#3F7F5F" face="Courier New" size="1"><span style="font-size:9pt">//</span></font> <font color="#3F7F5F" face="宋体" size="1"><span style="font-size:9pt">得到IOC容器对象</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        ApplicationContext ac =</span></font> <font color="#7F0055" face="Courier New" size="1"><span style="font-size:9pt"><b>new</b></span></font> <font face="Courier New" size="1"><span style="font-size:9pt">ClassPathXmlApplicationContext(</span></font><font color="#2A00FF" face="Courier New" size="1"><span style="font-size:9pt">&quot;cn/itcast/a_hello/applicationContext.xml&quot;</span></font><font face="Courier New" size="1"><span style="font-size:9pt">);</span></font></div><div align="left" style="min-height: 13pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        </span></font><font color="#3F7F5F" face="Courier New" size="1"><span style="font-size:9pt">//</span></font> <font color="#3F7F5F" face="宋体" size="1"><span style="font-size:9pt">从容器中获取bean</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        User user = (User) ac.getBean(</span></font><font color="#2A00FF" face="Courier New" size="1"><span style="font-size:9pt">&quot;user&quot;</span></font><font face="Courier New" size="1"><span style="font-size:9pt">);</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        </span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        System.</span></font><font color="#0000C0" face="Courier New" size="1"><span style="font-size:9pt"><i>out</i></span></font><font face="Courier New" size="1"><span style="font-size:9pt">.println(user);</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">    }</span></font></div><div align="justify" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">}</span></font></div></td></tr></table></div><h2 align="justify"><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>2.3. bean对象创建的细节</b></span></font></h2><div style="margin-left: -2mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:569px;" width="568"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="567"><font color="#3F5FBF" face="Courier New"><span style="font-size:13pt">/</span></font><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">**</span></font><div align="left" style="min-height: 13pt;"><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">     * 1)</span></font> <font color="#3F5FBF" face="宋体" size="1"><span style="font-size:9pt">对象创建： 单例/多例</span></font></div><div align="left" style="min-height: 13pt;"><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">     *  scope=&quot;singleton&quot;,</span></font> <font color="#3F5FBF" face="宋体" size="1"><span style="font-size:9pt">默认值， 即 默认是单例</span></font><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">  </span></font><font color="#3F5FBF" face="宋体" size="1"><span style="font-size:9pt">【service/</span></font><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt"><u>dao</u></span><span style="font-size:9pt">/</span></font><font color="#3F5FBF" face="宋体" size="1"><span style="font-size:9pt">工具类】</span></font></div><div align="left" style="min-height: 13pt;"><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">     *  scope=&quot;prototype&quot;,</span></font> <font color="#3F5FBF" face="宋体" size="1"><span style="font-size:9pt">多例；</span></font> <font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">               </span></font><font color="#3F5FBF" face="宋体" size="1"><span style="font-size:9pt">【Action对象】</span></font></div><div align="left" style="min-height: 9pt;"><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">     *</span></font></div><div align="left" style="min-height: 13pt;"><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">     * 2)</span></font> <font color="#3F5FBF" face="宋体" size="1"><span style="font-size:9pt">什么时候创建?</span></font></div><div align="left" style="min-height: 13pt;"><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">     *    scope=&quot;prototype&quot; </span></font> <font color="#3F5FBF" face="宋体" size="1"><span style="font-size:9pt">在用到对象的时候，才创建对象。</span></font></div><div align="left" style="min-height: 13pt;"><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">     *    scope=&quot;singleton&quot; </span></font> <font color="#3F5FBF" face="宋体" size="1"><span style="font-size:9pt">在启动(容器初始化之前)， 就已经创建了bean，且整个应用只有一个。</span></font></div><div align="left" style="min-height: 13pt;"><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">     * 3)</span></font><font color="#3F5FBF" face="宋体" size="1"><span style="font-size:9pt">是否延迟创建</span></font></div><div align="left" style="min-height: 13pt;"><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">     *    lazy</span></font><font color="#7F7F9F" face="Courier New" size="1"><span style="font-size:9pt">-</span></font><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt"><u>init</u></span><span style="font-size:9pt">=&quot;false&quot; </span></font> <font color="#3F5FBF" face="宋体" size="1"><span style="font-size:9pt">默认为false,  不延迟创建，即在启动时候就创建对象</span></font></div><div align="left" style="min-height: 13pt;"><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">     *    lazy</span></font><font color="#7F7F9F" face="Courier New" size="1"><span style="font-size:9pt">-</span></font><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt"><u>init</u></span><span style="font-size:9pt">=&quot;true&quot;  </span></font> <font color="#3F5FBF" face="宋体" size="1"><span style="font-size:9pt">延迟初始化， 在用到对象的时候才创建对象</span></font></div><div align="left" style="min-height: 13pt;"><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">     *   </span></font> <font color="#3F5FBF" face="宋体" size="1"><span style="font-size:9pt">（只对单例有效）</span></font></div><div align="left" style="min-height: 13pt;"><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">     * 4)</span></font> <font color="#3F5FBF" face="宋体" size="1"><span style="font-size:9pt">创建对象之后，初始化/销毁</span></font></div><div align="left" style="min-height: 13pt;"><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">     *   </span> <span style="font-size:9pt"><u>init</u></span></font><font color="#7F7F9F" face="Courier New" size="1"><span style="font-size:9pt">-</span></font><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">method=&quot;init_user&quot;      </span></font> <font color="#3F5FBF" face="宋体" size="1"><span style="font-size:9pt">【对应对象的init_user方法，在对象创建爱之后执行 】</span></font></div><div align="left" style="min-height: 13pt;"><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">     *    destroy</span></font><font color="#7F7F9F" face="Courier New" size="1"><span style="font-size:9pt">-</span></font><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">method=&quot;destroy_user&quot; </span></font> <font color="#3F5FBF" face="宋体" size="1"><span style="font-size:9pt">【在调用容器对象的</span></font><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt"><u>destriy</u></span></font><font color="#3F5FBF" face="宋体" size="1"><span style="font-size:9pt">方法时候执行，(容器用实现类)】</span></font></div><div align="left" style="min-height: 9pt;"><font color="#3F5FBF" face="Courier New" size="1"><span style="font-size:9pt">     */</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">    </span></font><font color="#646464" face="Courier New" size="1"><span style="font-size:9pt">@Test</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">    </span></font><font color="#7F0055" face="Courier New" size="1"><span style="font-size:9pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="1"><span style="font-size:9pt"><b>void</b></span></font> <font face="Courier New" size="1"><span style="font-size:9pt">testIOC()</span></font> <font color="#7F0055" face="Courier New" size="1"><span style="font-size:9pt"><b>throws</b></span></font> <font face="Courier New" size="1"><span style="font-size:9pt">Exception {</span></font></div><div align="left" style="min-height: 13pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        </span></font><font color="#3F7F5F" face="Courier New" size="1"><span style="font-size:9pt">//</span></font> <font color="#3F7F5F" face="宋体" size="1"><span style="font-size:9pt">得到IOC容器对象  【用实现类，因为要调用销毁的方法】</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        ClassPathXmlApplicationContext ac =</span></font> <font color="#7F0055" face="Courier New" size="1"><span style="font-size:9pt"><b>new</b></span></font> <font face="Courier New" size="1"><span style="font-size:9pt">ClassPathXmlApplicationContext(</span></font><font color="#2A00FF" face="Courier New" size="1"><span style="font-size:9pt">&quot;cn/itcast/a_hello/applicationContext.xml&quot;</span></font><font face="Courier New" size="1"><span style="font-size:9pt">);</span></font></div><div align="left" style="min-height: 13pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        System.</span></font><font color="#0000C0" face="Courier New" size="1"><span style="font-size:9pt"><i>out</i></span></font><font face="Courier New" size="1"><span style="font-size:9pt">.println(</span></font><font color="#2A00FF" face="Courier New" size="1"><span style="font-size:9pt">&quot;-----</span></font><font color="#2A00FF" face="宋体" size="1"><span style="font-size:9pt">容器创建-----&quot;</span></font><font face="Courier New" size="1"><span style="font-size:9pt">);</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        </span></font></div><div align="left" style="min-height: 13pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        </span></font><font color="#3F7F5F" face="Courier New" size="1"><span style="font-size:9pt">//</span></font> <font color="#3F7F5F" face="宋体" size="1"><span style="font-size:9pt">从容器中获取bean</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        User user1 = (User) ac.getBean(</span></font><font color="#2A00FF" face="Courier New" size="1"><span style="font-size:9pt">&quot;user&quot;</span></font><font face="Courier New" size="1"><span style="font-size:9pt">);</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        User user2 = (User) ac.getBean(</span></font><font color="#2A00FF" face="Courier New" size="1"><span style="font-size:9pt">&quot;user&quot;</span></font><font face="Courier New" size="1"><span style="font-size:9pt">);</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        </span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        System.</span></font><font color="#0000C0" face="Courier New" size="1"><span style="font-size:9pt"><i>out</i></span></font><font face="Courier New" size="1"><span style="font-size:9pt">.println(user1);</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        System.</span></font><font color="#0000C0" face="Courier New" size="1"><span style="font-size:9pt"><i>out</i></span></font><font face="Courier New" size="1"><span style="font-size:9pt">.println(user2);</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        </span></font></div><div align="left" style="min-height: 13pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        </span></font><font color="#3F7F5F" face="Courier New" size="1"><span style="font-size:9pt">//</span></font> <font color="#3F7F5F" face="宋体" size="1"><span style="font-size:9pt">销毁容器对象</span></font></div><div align="left" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">        ac.destroy();</span></font></div><div align="justify" style="min-height: 9pt;"><font face="Courier New" size="1"><span style="font-size:9pt">    }</span></font></div></td></tr></table></div></div></span>
</div></body></html> 