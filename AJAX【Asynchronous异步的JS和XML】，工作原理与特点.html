<html>
<head>
  <title>AJAX【Asynchronous异步的JS和XML】，工作原理与特点</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1825"/>
<h1>AJAX【Asynchronous异步的JS和XML】，工作原理与特点</h1>

<div>
<span><div align="justify" style="margin-left:0mm; margin-right:-31mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 18pt;"><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>AJAX【Asynchronous异步的JS和XML】，工作原理与特点</b></span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">   （1）什么是同步：</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        请求1-&gt;响应1-&gt;请求2-&gt;响应2-&gt;</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        Web1.0时代</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">   （2）什么是异步：</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        请求1-&gt;请求2-&gt;请求3-&gt;响应1-&gt;响应2-&gt;响应3-&gt;</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        请求1-&gt;响应1-&gt;请求2-&gt;请求3-&gt;响应2-&gt;响应3-&gt;</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        Web2.0时代</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        项目中：Web1.0为主（整个浏览器刷新），Web2.0为辅（浏览器局部刷新）</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">   （3）什么是AJAX</span></font></div><div align="justify" style="margin-left:15mm; margin-right:-31mm; text-indent:-15mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        客户端（特指PC浏览器）与服务器，可以在【不必刷新整个浏览器】的情况下，与服务器进行异步通讯的技术  </span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        即，AJAX是一个【局部刷新】的【异步】通讯技术</span></font></div><div align="justify" style="margin-left:7mm; margin-right:-31mm; text-indent:-7mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        AJAX不是全新的语言，是2005年Google公司推出的一种全新【编程模式】，不是新的编程语言</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">   （4）不用刷新整个页面便可与服务器通讯的办法有：</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">       （A）Flash/ActionScript</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">       （B）框架Frameset</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">       （C）iFrame（内嵌入框架)</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">       （D）XMLHttpRequest(非IE浏览器)和ActiveXObject(IE浏览器)</span></font></div><div align="justify" style="margin-left:0mm; margin-right:-31mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">             背景：早上IE5时，微软就开发出了第一个异步通讯对象，叫ActiveXObject对象，</span></font></div><div align="justify" style="margin-left:0mm; margin-right:-31mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">             Firefox等其它浏览器厂商也慢慢引入异步通讯对象，叫XMLHttpRequest对象，</span></font></div><div align="justify" style="margin-left:0mm; margin-right:-31mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">             IE的高版本，也将这个异步对象取名叫XMLHttpRequest对象，但IE有向下兼容问题，</span></font></div><div align="justify" style="margin-left:4mm; margin-right:-31mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">           也可以使用ActiveXObject对象。</span></font></div><div align="justify" style="margin-left:24mm; margin-right:-31mm; text-indent:-24mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">             无需第三方jar包，现代中高版本浏览器中内置了这个异步通讯对象，只需通过JavaScript就可以创建</span></font></div><div align="justify" style="margin-left:9mm; margin-right:-31mm; text-indent:-9mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">             注意：所有浏览器中都内置了异步对象，在默认情况下，该异步对象并没有创建出来</span></font></div><div style="margin-left: 25mm;"><table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #000000;width:467px;" width="466"><tr><td align="left" style="border: solid #000000 1px;width:100%;" valign="top" width="465"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">function</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">createAJAX()</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">    var</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ajax =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">null</span></font><font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">try{</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font face="Courier New" size="2"><span style="font-size:10pt">ajax =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">new</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ActiveXObject(</span></font><font color="#8E00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;microsoft.xmlhttp&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">}catch</span></font><font face="Courier New" size="2"><span style="font-size:10pt">(e1)</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">       </span></font><font face="Courier New" size="2"><span style="font-size:10pt">ajax =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">new</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">XMLHttpRequest();</span></font></div><div align="left" style="min-height: 10pt;"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">    return</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ajax;</span></font></div><div align="justify" style="min-height: 10pt;"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></td></tr></table></div><div align="justify" style="min-height: 12pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">         </span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">   （5）AJAX工作原理</span></font></div><div align="justify" style="min-height: 13pt;"><div><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        <img src="AJAX【Asynchronous异步的JS和XML】，工作原理与特点_files/02_AJAX工作原理.JPG" type="image/jpeg"/></span></font></div></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">   （6）AJAX包含的技术</span></font></div><div align="justify" style="min-height: 13pt;"><div><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">      <img src="AJAX【Asynchronous异步的JS和XML】，工作原理与特点_files/03_AJAX技术总汇.JPG" type="image/jpeg"/></span></font></div></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">   （7）AJAX开发步骤</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        步一：创建AJAX异步对象，例如：createAJAX()</span></font></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:2mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">       步二：准备发送异步请求，例如：ajax.open(method,url)</span></font></div><div align="justify" style="margin-left:0mm; margin-right:-31mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        步三：如果是POST请求的话，一定要设置AJAX请求头，例如：ajax.setRequestHeader()</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">              如果是GET请求的话，无需设置设置AJAX请求头</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        步四：真正发送请求体中的数据到服务器，例如：ajax.send()</span></font></div><div align="justify" style="margin-left:26mm; margin-right:-31mm; text-indent:-11mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">步五：AJAX不断的监听服务端响应的状态变化，例如：ajax.onreadystatechange，后面写一个无名处理函数  </span></font></div><div align="justify" style="margin-left:0mm; margin-right:-31mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        步六：在无名处理函数中，获取AJAX的数据后，按照DOM规则，用JS语言来操作Web页面    </span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">   （8）AJAX适合用在什么地方</span></font></div><div align="justify" style="margin-left:0mm; margin-right:-31mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        AJAX【适合】不用来传递大量数据，而只用来【传递少量数据】，在用户的【体验】上，【更加人性化】</span></font></div><div align="justify" style="margin-left:0mm; margin-right:-31mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        AJAX是一个和服务器无关的技术，即服务器可使用：JavaEE，.NET，PHP，。。。这些技术都可</span></font></div><div align="justify" style="margin-left:0mm; margin-right:-31mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        AJAX只管向服务器发送请求，同时只管接收服务器的HTML或XML或JSON载体响应</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        服务端不能使用转发或重定向到web页面，因为这样会起浏览器全面刷新</span></font></div><div align="justify" style="margin-left:0mm; margin-right:-31mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">        即只能以流的方式响应给浏览器</span></font></div></span>
</div></body></html> 